## 日記

### 問題概要

H \times W の盤面が与えられる。
いくつかのマスには水晶が置いてあり、それぞれの水晶は照らされるべき色を持つ。
色は赤/黄/青のprimary colorsとそのうちふたつの和である緑/紫/橙 secondary colorsのどれか。 白や茶色が指定されることはない。
4方向への赤/黄/青の光源、90度で反射させる鏡、光を吸収する障害物を、費用を支払っていくつか設置できる。
raw scoreはprimary/secondary colorsの水晶を適切な色で照らすとそれぞれ20/30点、間違った色で照らすと常に-10点、照らされなかった水晶は0点、使用した費用の分だけ減点。
overall scoreは各ケースにおける順位の総和と見てよいもの。

制約:

-   10 \le H, W \le 100
-   障害物は 5 ~ 15% 配置される
-   水晶は 15 ~ 25% 配置される
-   色は 1 ~ 6
-   光源の費用は 1 ~ 10点
-   鏡の費用は 3 ~ 30点
-   障害物の費用は 2 ~ 20点
-   鏡の設置上限は 0 ~ (水晶の数)/8
-   障害物の設置上限は 0 ~ (水晶の数)/16
-   すべて一様分布
-   光源に光が当たるのは禁止

![example 0](https://www.topcoder.com/contest/problem/CrystalLighting/1.png)


### 2018年  6月  7日 木曜日 10:08:30 JST

撤退しようかなと考えていたのに開始後すぐ問題を見てしまうのほんとだめ。
指の怪我とか試験とか海外旅行とかでかなり厳しいのに正気か？

[RYB color model](https://en.wikipedia.org/wiki/RYB_color_model) 初耳。 CMYじゃだめだったのか。
forumにてRYBは減法混合の原色だが光は加法混合されるし実際そう計算しろと書いてあるので矛盾だよねという指摘: <https://apps.topcoder.com/forums/?module=Thread&threadID=919192&start=0>。
そういえばそれはそう。 頭付いてないので読み流してしまったし実質誤読。


### 2018年  6月  7日 木曜日 10:39:20 JST

読んだ。 なんというか戦いやすい。 CodeVSとかでありそう。
しかしこれだと1位が取れることはまずない。 もともとほぼないけど。
搦手が効かずルールベース寄り。 ビームは弾かれそうだが火は通るのだろうか。 探索力で押し負けそう。

前処理として白色(つまり光を当ててはいけない)水晶を導入したい。
ここに光源を置くのとそこに置くのは同じ、ここに置くならそこに置くのは無意味、といった依存関係のグラフ作っておきたい。
迷路とか数独を解くような感じ。
となるとSATか？
焼くのと違って学習があるし効きそうだけど分からん。
鏡や障害物の出番あるのか？ まああるだろうがまずはなしで考えてもよさそう。

設置物を関連してる光線と平行に動かす近傍や、光源の色の変化、鏡と障害物の置き換え、光源ふたつの色の交換あたりが近傍として有力そう。
単純には設置と削除。 設置と削除を同時にやる近傍もあるが、局所性に注意しないとだめそう。

局所性。
最後まで2次元平面でやるのだろうか。 いい感じにグラフに落としてしまいたい。
諸々を解く際に局所的に解けないか。 接続部分が悪くても探索空間が広ければ加速分で元が取れるかも。
しかし狭そう。 だとするとビームサーチもありなのかも。 上からDP的に決めていく感じで。

とりあえず貪欲なり雑な焼き鈍しを実装して様子を見たい。
ところでRYBだと矛盾する話の処理はどうしよう。 修正してもしなくても混乱を生むの勘弁して。


### 2018年  6月  7日 木曜日 10:53:11 JST

数学

## 2018年  6月  7日 木曜日 12:56:04 JST

うまくフローにできないか。
光源や障害物の位置だけ固定した上で色だけ流すとか。
位置の固定したらもう残りはDPで最適解でたりしそう。

### 2018年  6月  7日 木曜日 18:49:26 JST

研究が哲学に寄りつつあるような

### 2018年  6月  7日 木曜日 19:43:24 JST

退路断ち

### 2018年  6月  7日 木曜日 20:20:35 JST

今回の誤読

>   Item 0: A lantern should not be illuminated by any light ray.

### 2018年  6月  7日 木曜日 20:38:19 JST

雑貪欲 [60f38094b24f96927de73689a9edd68a5aa60d5a](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/60f38094b24f96927de73689a9edd68a5aa60d5a)

![11.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.60f38094b24f96927de73689a9edd68a5aa60d5a.png?token=ACGd-HrrN-fy38ORtN9iIzN1mi3fXaITks5bIlVdwA%3D%3D)

<details>
<summary>順位表 60f38094b24f96927de73689a9edd68a5aa60d5a</summary>

| Handle      | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|-------------|------------|-------|--------------------------|-----------|----------------|--------------|
| nika        | 996428.57  | 1     | 06.07.2018 06:18:19 EST  | C++       | 1              | 2            |
| CatalinT    | 860714.29  | 2     | 06.07.2018 03:49:38 EST  | C++       | 1              | 1            |
| RafbillFr   | 700000.00  | 3     | 06.07.2018 05:49:21 EST  | C++       | 1              | 1            |
| JacoCronje  | 578571.43  | 4     | 06.07.2018 05:53:51 EST  | C++       | 2              | 1            |
| kimiyuki    | 372142.86  | 5     | 06.07.2018 07:37:10 EST  | C++       | 1              | 2            |
| yowa        | 268571.43  | 6     | 06.06.2018 23:34:08 EST  | C++       | 1              | 1            |
| ktuan       | 223571.43  | 7     | 06.07.2018 05:40:39 EST  | C++       | 1              | 1            |
| fetetriste  | 0.00       | 8     | 06.07.2018 07:29:41 EST  | Java      | 1              | 1            |
| keymoon     | -          | -     | -                        | -         | 1              | 0            |

</details>

secondary colorsの水晶を使うのは貪欲だと難しいようだ

意外と点数が出る。
最高で costLantern = 10 であり照らせば最低20点なので積極的に置くことになるためか。
MM100やR1で反省したのか実質無効なテストケースがない。

### 2018年  6月  8日 金曜日 11:17:15 JST

起きた。 寝る前を含めて特に何も思い付かず。

### 2018年  6月  8日 金曜日 11:41:19 JST

これ好き: <https://twitter.com/kyuridenamida/status/1004750932381335552>

とりあえず思考停止焼き鈍しをするか。 なんだか負けそうな動きだが、頭付いてないので手を動かすしかないため。

### 2018年  6月  8日 金曜日 13:49:40 JST

昨日までカップ麺や霞ばかり食べてたのにMMが始まったとたんちゃんと自炊がなされるの不思議

### 2018年  6月  8日 金曜日 14:47:39 JST

とりあえず山登り: `afaf767668b306ab301cc2d6fbc57c85fbc48ac0`

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.afaf767668b306ab301cc2d6fbc57c85fbc48ac0.png?token=ACGd-Ni6CBPfYkXamzwHEbqs4PIFTOR7ks5bI1sCwA%3D%3D)

でもって1行変えて焼き鈍し `16ed8b060f755e3f389da36382b2df0d358025be`

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.16ed8b060f755e3f389da36382b2df0d358025be.png?token=ACGd-GGZu31ltdiqdlBKZoKFaBF4D3EYks5bI1sBwA%3D%3D)

悪化してる悲しい

### 2018年  6月  8日 金曜日 15:21:09 JST

<details>
<summary>score表 60f38094b24f96927de73689a9edd68a5aa60d5a</summary>

|   seed |   raw_score |     elapsed |
|--------|-------------|-------------|
|      1 |         150 | 0.000190314 |
|      2 |        2661 | 0.232131    |
|      3 |        9468 | 4.32397     |
|      4 |        3928 | 0.639812    |
|      5 |        5472 | 0.761304    |
|      6 |        1604 | 0.047366    |
|      7 |        6175 | 0.820676    |
|      8 |        1570 | 0.0921941   |
|      9 |        5453 | 0.490422    |
|     10 |        4010 | 0.374027    |
|     11 |        1052 | 0.0349937   |
|     12 |        4390 | 0.572925    |
|     13 |        4013 | 0.52793     |
|     14 |         472 | 0.0027176   |
|     15 |        1059 | 0.0382016   |
|     16 |        1912 | 0.227395    |
|     17 |        1408 | 0.0530906   |
|     18 |        4723 | 0.406275    |
|     19 |         821 | 0.0111872   |
|     20 |        2853 | 0.23453     |
|     21 |        5286 | 0.366859    |
|     22 |        2566 | 0.237709    |
|     23 |        1621 | 0.046325    |
|     24 |        1056 | 0.049004    |
|     25 |        5676 | 1.19811     |
|     26 |        1736 | 0.102188    |
|     27 |        4827 | 1.59839     |
|     28 |        1166 | 0.0185568   |
|     29 |         462 | 0.00294092  |
|     30 |        1901 | 0.0429325   |
|     31 |        5220 | 0.956221    |
|     32 |         562 | 0.00957582  |
|     33 |        2467 | 0.0813193   |
|     34 |        2035 | 0.102884    |
|     35 |        4327 | 0.818719    |
|     36 |        6303 | 2.07427     |
|     37 |        2707 | 0.166513    |
|     38 |         788 | 0.00749117  |
|     39 |         791 | 0.0346289   |
|     40 |         540 | 0.00507768  |
|     41 |        3323 | 0.278655    |
|     42 |         971 | 0.0249437   |
|     43 |        5690 | 0.586416    |
|     44 |        4452 | 0.274318    |
|     45 |        1914 | 0.263294    |
|     46 |        3359 | 0.34138     |
|     47 |         469 | 0.00371187  |
|     48 |        7584 | 2.31603     |
|     49 |        3195 | 0.43989     |
|     50 |        1599 | 0.087742    |
|     51 |        1898 | 0.13096     |
|     52 |        6678 | 0.661705    |
|     53 |        6259 | 2.12294     |
|     54 |        2243 | 0.358084    |
|     55 |        4916 | 0.57843     |
|     56 |        5419 | 0.38131     |
|     57 |        3195 | 0.175546    |
|     58 |         740 | 0.00969877  |
|     59 |        3232 | 0.198083    |
|     60 |        3206 | 0.496989    |
|     61 |        1981 | 0.213951    |
|     62 |         984 | 0.0193606   |
|     63 |       11647 | 2.66809     |
|     64 |        2544 | 0.281012    |
|     65 |        2465 | 0.181772    |
|     66 |        1118 | 0.0303937   |
|     67 |        2206 | 0.275981    |
|     68 |        1170 | 0.0683103   |
|     69 |        2239 | 0.110731    |
|     70 |        2746 | 0.0752597   |
|     71 |        2631 | 0.212941    |
|     72 |        1196 | 0.0371919   |
|     73 |        5252 | 0.442412    |
|     74 |        2477 | 0.193501    |
|     75 |        7326 | 0.505636    |
|     76 |        3515 | 0.50109     |
|     77 |         400 | 0.00622593  |
|     78 |        1869 | 0.0511822   |
|     79 |         927 | 0.0380461   |
|     80 |        1058 | 0.061853    |
|     81 |        7249 | 0.607433    |
|     82 |        2667 | 0.338634    |
|     83 |        4831 | 0.519378    |
|     84 |        2436 | 0.286856    |
|     85 |        6625 | 0.845838    |
|     86 |        1733 | 0.157479    |
|     87 |        5954 | 0.9411      |
|     88 |        7013 | 0.822998    |
|     89 |        1028 | 0.0526283   |
|     90 |         814 | 0.0394493   |
|     91 |        6115 | 1.96949     |
|     92 |        5511 | 1.20088     |
|     93 |        3184 | 0.100279    |
|     94 |        4148 | 0.705273    |
|     95 |        4078 | 0.620645    |
|     96 |        6172 | 0.675519    |
|     97 |       10006 | 1.09166     |
|     98 |        1103 | 0.0251376   |
|     99 |        1945 | 0.0975043   |
|    100 |         536 | 0.013457    |

</details>

<details>
<summary>score表 afaf767668b306ab301cc2d6fbc57c85fbc48ac0</summary>

|   seed |   raw_score |        iteration |   elapsed |
|--------|-------------|------------------|-----------|
|      1 |         202 |      1.65094e+07 |   9.5     |
|      2 |        5167 | 586955           |   9.50007 |
|      3 |       12179 | 185993           |   9.50086 |
|      4 |        6195 | 388814           |   9.50003 |
|      5 |        8672 | 300967           |   9.50013 |
|      6 |        2498 |      1.64263e+06 |   9.50279 |
|      7 |        8710 | 291584           |   9.50007 |
|      8 |        2428 |      1.46591e+06 |   9.50003 |
|      9 |        7517 | 404052           |   9.50011 |
|     10 |        7072 | 398741           |   9.50074 |
|     11 |        1702 |      1.6624e+06  |   9.50003 |
|     12 |        6959 | 386532           |   9.50006 |
|     13 |        6985 | 350772           |   9.50006 |
|     14 |         650 |      6.15906e+06 |   9.50004 |
|     15 |        1697 |      1.63967e+06 |   9.50002 |
|     16 |        3427 | 633343           |   9.50006 |
|     17 |        2022 |      1.5934e+06  |   9.50002 |
|     18 |        7940 | 356310           |   9.50006 |
|     19 |        1449 |      2.87756e+06 |   9.50001 |
|     20 |        5118 | 555416           |   9.50009 |
|     21 |        8380 | 386008           |   9.50101 |
|     22 |        4988 | 556117           |   9.50006 |
|     23 |        2446 |      1.52673e+06 |   9.50003 |
|     24 |        1635 |      1.44248e+06 |   9.50002 |
|     25 |        8754 | 281002           |   9.50009 |
|     26 |        2723 |      1.29891e+06 |   9.50002 |
|     27 |        7812 | 275623           |   9.50011 |
|     28 |        1982 |      1.82293e+06 |   9.50002 |
|     29 |         660 |      5.23299e+06 |   9.50002 |
|     30 |        2627 |      1.51354e+06 |   9.50003 |
|     31 |        9292 | 282049           |   9.50006 |
|     32 |        1232 |      2.69893e+06 |   9.50001 |
|     33 |        3933 |      1.07992e+06 |   9.50005 |
|     34 |        4036 | 891006           |   9.50003 |
|     35 |        7648 | 290613           |   9.50006 |
|     36 |        9935 | 207375           |   9.50017 |
|     37 |        4330 | 750751           |   9.50005 |
|     38 |        1120 |      3.13098e+06 |   9.50001 |
|     39 |        1141 |      2.41583e+06 |   9.50001 |
|     40 |         802 |      3.50454e+06 |   9.50001 |
|     41 |        4732 | 612708           |   9.50311 |
|     42 |        1637 |      2.73326e+06 |   9.50003 |
|     43 |        8055 | 377593           |   9.50007 |
|     44 |        7415 | 432312           |   9.50896 |
|     45 |        4372 | 539181           |   9.50005 |
|     46 |        5980 | 439843           |   9.50188 |
|     47 |         700 |      4.71285e+06 |   9.50001 |
|     48 |       10376 | 213600           |   9.50009 |
|     49 |        6097 | 360961           |   9.50007 |
|     50 |        2665 |      1.08955e+06 |   9.50003 |
|     51 |        3614 | 811327           |   9.50005 |
|     52 |        9042 | 295017           |   9.50013 |
|     53 |        8232 | 275241           |   9.50014 |
|     54 |        4869 | 490624           |   9.50004 |
|     55 |        7226 | 361514           |   9.50006 |
|     56 |        7770 | 395916           |   9.50007 |
|     57 |        5005 | 682920           |   9.5082  |
|     58 |        1110 |      3.40148e+06 |   9.50001 |
|     59 |        5131 | 576619           |   9.50023 |
|     60 |        5418 | 425137           |   9.50005 |
|     61 |        3932 | 446552           |   9.50006 |
|     62 |        1538 |      2.0072e+06  |   9.50002 |
|     63 |       12400 | 165923           |   9.50014 |
|     64 |        4899 | 470906           |   9.50005 |
|     65 |        4490 | 764670           |   9.50005 |
|     66 |        1518 |      2.3038e+06  |   9.50002 |
|     67 |        3958 | 641152           |   9.50005 |
|     68 |        1627 |      2.03523e+06 |   9.50244 |
|     69 |        3888 | 916077           |   9.50004 |
|     70 |        4494 | 849816           |   9.50003 |
|     71 |        5357 | 509386           |   9.50006 |
|     72 |        1902 |      1.73572e+06 |   9.50005 |
|     73 |        7613 | 411548           |   9.50006 |
|     74 |        4786 | 743027           |   9.50006 |
|     75 |        9740 | 344939           |   9.50011 |
|     76 |        5478 | 394757           |   9.50009 |
|     77 |         890 |      3.8016e+06  |   9.50004 |
|     78 |        2826 |      1.84141e+06 |   9.50002 |
|     79 |        1064 |      3.04957e+06 |   9.50002 |
|     80 |        1482 |      1.89786e+06 |   9.50002 |
|     81 |       10197 | 313168           |   9.50007 |
|     82 |        4175 | 711549           |   9.50006 |
|     83 |        7660 | 355706           |   9.50008 |
|     84 |        3961 | 689964           |   9.50004 |
|     85 |        9488 | 316379           |   9.50008 |
|     86 |        3052 |      1.04954e+06 |   9.50003 |
|     87 |        9011 | 282156           |   9.50011 |
|     88 |       11131 | 279398           |   9.50009 |
|     89 |        2135 |      1.62480e+06 |   9.50003 |
|     90 |        1885 |      2.25839e+06 |   9.50002 |
|     91 |        9997 | 237994           |   9.5001  |
|     92 |        7781 | 362789           |   9.5001  |
|     93 |        5042 | 832440           |   9.50004 |
|     94 |        6392 | 397928           |   9.50011 |
|     95 |        6314 | 415344           |   9.50006 |
|     96 |        9670 | 296102           |   9.50014 |
|     97 |       11416 | 263806           |   9.50012 |
|     98 |        1567 |      1.85308e+06 |   9.50002 |
|     99 |        2966 |      1.34066e+06 |   9.50003 |
|    100 |         926 |      2.95492e+06 |   9.50001 |

</details>

<details>
<summary>score表 16ed8b060f755e3f389da36382b2df0d358025be</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   raw_score |        iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-------------|------------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         53 |             24 |            23 |         262 |      1.39013e+07 |   9.5     |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       2241 |            287 |           497 |        4710 | 630987           |   9.50005 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       7418 |            581 |          2001 |       11711 | 203933           |   9.50014 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       3179 |            343 |           794 |        6372 | 391219           |   9.50008 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       3314 |            612 |           971 |        8128 | 318563           |   9.5001  |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        789 |            170 |           265 |        2272 |      1.87107e+06 |   9.50003 |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       3545 |            545 |          1202 |        9262 | 284741           |   9.5001  |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |       1065 |            160 |           245 |        2396 |      1.59795e+06 |   9.50004 |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2940 |            402 |           728 |        7328 | 410642           |   9.5001  |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2473 |            311 |           660 |        7210 | 471095           |   9.50009 |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        722 |            135 |           247 |        1926 |      1.9911e+06  |   9.50002 |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       3291 |            387 |           708 |        6667 | 393797           |   9.50008 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       2354 |            455 |           846 |        6918 | 424715           |   9.50069 |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        245 |             29 |            78 |         844 |      5.33222e+06 |   9.50001 |
|     15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        959 |            137 |           196 |        1909 |      1.7031e+06  |   9.50002 |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1820 |            259 |           456 |        4033 | 888021           |   9.50004 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        849 |            206 |           190 |        1916 |      1.77584e+06 |   9.50003 |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       3452 |            316 |           982 |        8082 | 408658           |   9.50008 |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        562 |             46 |           142 |        1835 |      2.45854e+06 |   9.50002 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2420 |            320 |           608 |        4444 | 601318           |   9.50005 |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2617 |            231 |           924 |        8044 | 429228           |   9.50007 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       2013 |            181 |           722 |        4902 | 613203           |   9.50007 |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        795 |            135 |           260 |        3031 |      1.49811e+06 |   9.50794 |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |       1040 |            109 |           231 |        1768 |      1.56045e+06 |   9.50392 |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3689 |            688 |          1143 |        8492 | 248572           |   9.50011 |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1286 |            167 |           395 |        2844 |      1.0221e+06  |   9.50003 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4861 |            456 |          1007 |        8027 | 265700           |   9.50009 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        902 |             62 |           236 |        2282 |      1.57503e+06 |   9.50003 |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        280 |             34 |            94 |         672 |      4.91695e+06 |   9.50001 |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |       1128 |            207 |           329 |        3015 |      1.53255e+06 |   9.50002 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       4255 |            294 |          1058 |        8672 | 309135           |   9.5001  |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        475 |            109 |           176 |        1292 |      2.89416e+06 |   9.50002 |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |       1247 |            276 |           507 |        4095 |      1.01515e+06 |   9.50004 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1598 |             99 |           415 |        4151 | 907504           |   9.50006 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3879 |            358 |           947 |        7636 | 334899           |   9.50007 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       5801 |            420 |          1691 |        9583 | 249773           |   9.50012 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1614 |            327 |           579 |        5025 | 635125           |   9.50006 |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        384 |             49 |            99 |        1145 |      3.10307e+06 |   9.50001 |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        512 |            119 |           185 |        1417 |      2.41589e+06 |   9.50002 |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        458 |             43 |           119 |         938 |      3.48295e+06 |   9.50033 |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       2092 |            388 |           508 |        4435 | 714777           |   9.50006 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        563 |            150 |           171 |        2143 |      2.32599e+06 |   9.50002 |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3928 |            316 |           726 |        8371 | 347696           |   9.50008 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2526 |            335 |           862 |        8203 | 427464           |   9.50008 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2392 |            279 |           566 |        4432 | 678202           |   9.50006 |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       2167 |            445 |           788 |        5697 | 555321           |   9.50005 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        258 |             48 |           100 |         852 |      4.4252e+06  |   9.50001 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       5609 |            521 |          1322 |       10621 | 217826           |   9.5001  |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2887 |            566 |           933 |        5967 | 433492           |   9.50006 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |       1123 |            249 |           388 |        2549 |      1.32011e+06 |   9.50003 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1330 |            181 |           467 |        3594 | 987904           |   9.50003 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       3236 |            615 |          1021 |        9566 | 284632           |   9.50011 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       5666 |            652 |          1494 |        8320 | 281177           |   9.50015 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2389 |            260 |           590 |        4680 | 658097           |   9.50006 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       3081 |            421 |           755 |        7817 | 410041           |   9.50009 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       2416 |            472 |           752 |        7951 | 460003           |   9.50011 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1513 |            366 |           586 |        5136 | 779465           |   9.50006 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        472 |             36 |           130 |        1210 |      3.34849e+06 |   9.50002 |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       2001 |            208 |           530 |        5563 | 618921           |   9.50007 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2994 |            589 |           695 |        5738 | 460848           |   9.50009 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       2028 |            266 |           436 |        3676 | 802384           |   9.50004 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        545 |            102 |           185 |        1946 |      2.32697e+06 |   9.50107 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       5417 |            875 |          2080 |       13490 | 203551           |   9.50012 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       2252 |            280 |           617 |        5027 | 588549           |   9.50005 |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       2020 |            150 |           430 |        4466 | 701886           |   9.50004 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        863 |            150 |           219 |        1746 |      1.94523e+06 |   9.50002 |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       2060 |            405 |           571 |        4322 | 581073           |   9.50007 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        935 |            146 |           193 |        1794 |      1.79542e+06 |   9.50002 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |       1225 |            310 |           537 |        3810 | 964183           |   9.50005 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1498 |            139 |           463 |        4647 | 852806           |   9.50004 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       2125 |            271 |           754 |        4881 | 656424           |   9.50008 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        788 |             64 |           236 |        2244 |      1.81332e+06 |   9.50905 |
|     73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2796 |            471 |           660 |        8276 | 387080           |   9.50007 |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1805 |            104 |           561 |        4765 | 741781           |   9.50005 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       3119 |            719 |          1202 |        9584 | 310517           |   9.50011 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3567 |            557 |           772 |        5791 | 455931           |   9.50008 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        416 |             99 |           123 |         835 |      3.44206e+06 |   9.50001 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        717 |            151 |           282 |        2824 |      1.63721e+06 |   9.52743 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        637 |            150 |           148 |        1183 |      2.5765e+06  |   9.50115 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |       1114 |            203 |           204 |        1452 |      1.77119e+06 |   9.51593 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       3181 |            378 |           998 |        9929 | 254870           |   9.50797 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       2067 |            388 |           719 |        4294 | 536209           |   9.50006 |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       3061 |            247 |          1117 |        7369 | 334728           |   9.50009 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       2083 |            191 |           538 |        4063 | 592060           |   9.50005 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       3249 |            365 |          1083 |        9619 | 273689           |   9.50012 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1501 |            104 |           375 |        3255 | 927234           |   9.50003 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4999 |            359 |           993 |        8855 | 256732           |   9.50015 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       3402 |            514 |          1232 |       10652 | 259952           |   9.50013 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        979 |             91 |           246 |        2231 |      1.57611e+06 |   9.50002 |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        588 |             33 |           195 |        1664 |      2.1767e+06  |   9.50002 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       5435 |            374 |          1660 |        9622 | 262174           |   9.50153 |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       4330 |            481 |          1309 |        7111 | 357349           |   9.50108 |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1686 |            126 |           531 |        4906 | 816969           |   9.50004 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       3013 |            807 |          1276 |        6272 | 414009           |   9.50009 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3510 |            514 |           734 |        6452 | 390146           |   9.50009 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       3628 |            552 |          1248 |        9267 | 319193           |   9.50009 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       3883 |            825 |          1496 |       11972 | 267705           |   9.50014 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        829 |            106 |           205 |        1589 |      2.00016e+06 |   9.50002 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1518 |            270 |           321 |        2905 |      1.51692e+06 |   9.50003 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        568 |             44 |           132 |        1114 |      3.49134e+06 |   9.50001 |

</details>

<details>
<summary>比較表 1. 16ed8b060f755e3f389da36382b2df0d358025be vs 2. afaf767668b306ab301cc2d6fbc57c85fbc48ac0</summary>

|     |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   raw_score_1 |        iteration |   elapsed |   raw_score_2 |   raw_score_diff |
|-----|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|---------------|------------------|-----------|---------------|------------------|
|  20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2420 |            320 |           608 |          4444 | 601318           |   9.50005 |          5118 |             -674 |
|  92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       4330 |            481 |          1309 |          7111 | 357349           |   9.50108 |          7781 |             -670 |
|  31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       4255 |            294 |          1058 |          8672 | 309135           |   9.5001  |          9292 |             -620 |
|   5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       3314 |            612 |           971 |          8128 | 318563           |   9.5001  |          8672 |             -544 |
|  88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       3402 |            514 |          1232 |         10652 | 259952           |   9.50013 |         11131 |             -479 |
|  71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       2125 |            271 |           754 |          4881 | 656424           |   9.50008 |          5357 |             -476 |
|   3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       7418 |            581 |          2001 |         11711 | 203933           |   9.50014 |         12179 |             -468 |
|   2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       2241 |            287 |           497 |          4710 | 630987           |   9.50005 |          5167 |             -457 |
|  96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       3628 |            552 |          1248 |          9267 | 319193           |   9.50009 |          9670 |             -403 |
|  91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       5435 |            374 |          1660 |          9622 | 262174           |   9.50153 |          9997 |             -375 |
|  36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       5801 |            420 |          1691 |          9583 | 249773           |   9.50012 |          9935 |             -352 |
|  21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2617 |            231 |           924 |          8044 | 429228           |   9.50007 |          8380 |             -336 |
|  41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       2092 |            388 |           508 |          4435 | 714777           |   9.50006 |          4732 |             -297 |
|  12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       3291 |            387 |           708 |          6667 | 393797           |   9.50008 |          6959 |             -292 |
|  83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       3061 |            247 |          1117 |          7369 | 334728           |   9.50009 |          7660 |             -291 |
|  46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       2167 |            445 |           788 |          5697 | 555321           |   9.50005 |          5980 |             -283 |
|  81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       3181 |            378 |           998 |          9929 | 254870           |   9.50797 |         10197 |             -268 |
|  25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3689 |            688 |          1143 |          8492 | 248572           |   9.50011 |          8754 |             -262 |
|  61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       2028 |            266 |           436 |          3676 | 802384           |   9.50004 |          3932 |             -256 |
|   6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        789 |            170 |           265 |          2272 |      1.87107e+06 |   9.50003 |          2498 |             -226 |
|  90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        588 |             33 |           195 |          1664 |      2.1767e+06  |   9.50002 |          1885 |             -221 |
|   9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2940 |            402 |           728 |          7328 | 410642           |   9.5001  |          7517 |             -189 |
|  54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2389 |            260 |           590 |          4680 | 658097           |   9.50006 |          4869 |             -189 |
|  87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4999 |            359 |           993 |          8855 | 256732           |   9.50015 |          9011 |             -156 |
|  75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       3119 |            719 |          1202 |          9584 | 310517           |   9.50011 |          9740 |             -156 |
|  93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1686 |            126 |           531 |          4906 | 816969           |   9.50004 |          5042 |             -136 |
|  49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2887 |            566 |           933 |          5967 | 433492           |   9.50006 |          6097 |             -130 |
|  94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       3013 |            807 |          1276 |          6272 | 414009           |   9.50009 |          6392 |             -120 |
|  50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |       1123 |            249 |           388 |          2549 |      1.32011e+06 |   9.50003 |          2665 |             -116 |
|  17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        849 |            206 |           190 |          1916 |      1.77584e+06 |   9.50003 |          2022 |             -106 |
|  22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       2013 |            181 |           722 |          4902 | 613203           |   9.50007 |          4988 |              -86 |
|  69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |       1225 |            310 |           537 |          3810 | 964183           |   9.50005 |          3888 |              -78 |
|  13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       2354 |            455 |           846 |          6918 | 424715           |   9.50069 |          6985 |              -67 |
|  99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1518 |            270 |           321 |          2905 |      1.51692e+06 |   9.50003 |          2966 |              -61 |
|  77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        416 |             99 |           123 |           835 |      3.44206e+06 |   9.50001 |           890 |              -55 |
|   8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |       1065 |            160 |           245 |          2396 |      1.59795e+06 |   9.50004 |          2428 |              -32 |
|  80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |       1114 |            203 |           204 |          1452 |      1.77119e+06 |   9.51593 |          1482 |              -30 |
|  65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       2020 |            150 |           430 |          4466 | 701886           |   9.50004 |          4490 |              -24 |
|  74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1805 |            104 |           561 |          4765 | 741781           |   9.50005 |          4786 |              -21 |
|  51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1330 |            181 |           467 |          3594 | 987904           |   9.50003 |          3614 |              -20 |
|  35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3879 |            358 |           947 |          7636 | 334899           |   9.50007 |          7648 |              -12 |
|  78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        717 |            151 |           282 |          2824 |      1.63721e+06 |   9.52743 |          2826 |               -2 |
|  29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        280 |             34 |            94 |           672 |      4.91695e+06 |   9.50001 |           660 |               12 |
|  98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        829 |            106 |           205 |          1589 |      2.00016e+06 |   9.50002 |          1567 |               22 |
|  38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        384 |             49 |            99 |          1145 |      3.10307e+06 |   9.50001 |          1120 |               25 |
|   1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         53 |             24 |            23 |           262 |      1.39013e+07 |   9.5     |           202 |               60 |
|  32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        475 |            109 |           176 |          1292 |      2.89416e+06 |   9.50002 |          1232 |               60 |
|  45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2392 |            279 |           566 |          4432 | 678202           |   9.50006 |          4372 |               60 |
|  53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       5666 |            652 |          1494 |          8320 | 281177           |   9.50015 |          8232 |               88 |
|  89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        979 |             91 |           246 |          2231 |      1.57611e+06 |   9.50002 |          2135 |               96 |
|  58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        472 |             36 |           130 |          1210 |      3.34849e+06 |   9.50002 |          1110 |              100 |
|  84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       2083 |            191 |           538 |          4063 | 592060           |   9.50005 |          3961 |              102 |
|  34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1598 |             99 |           415 |          4151 | 907504           |   9.50006 |          4036 |              115 |
|  82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       2067 |            388 |           719 |          4294 | 536209           |   9.50006 |          4175 |              119 |
|  79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        637 |            150 |           148 |          1183 |      2.5765e+06  |   9.50115 |          1064 |              119 |
|  26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1286 |            167 |           395 |          2844 |      1.0221e+06  |   9.50003 |          2723 |              121 |
|  64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       2252 |            280 |           617 |          5027 | 588549           |   9.50005 |          4899 |              128 |
|  57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1513 |            366 |           586 |          5136 | 779465           |   9.50006 |          5005 |              131 |
|  85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       3249 |            365 |          1083 |          9619 | 273689           |   9.50012 |          9488 |              131 |
|  24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |       1040 |            109 |           231 |          1768 |      1.56045e+06 |   9.50392 |          1635 |              133 |
|  40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        458 |             43 |           119 |           938 |      3.48295e+06 |   9.50033 |           802 |              136 |
|  10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2473 |            311 |           660 |          7210 | 471095           |   9.50009 |          7072 |              138 |
|  95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3510 |            514 |           734 |          6452 | 390146           |   9.50009 |          6314 |              138 |
|  18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       3452 |            316 |           982 |          8082 | 408658           |   9.50008 |          7940 |              142 |
|  47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        258 |             48 |           100 |           852 |      4.4252e+06  |   9.50001 |           700 |              152 |
|  70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1498 |            139 |           463 |          4647 | 852806           |   9.50004 |          4494 |              153 |
|  33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |       1247 |            276 |           507 |          4095 |      1.01515e+06 |   9.50004 |          3933 |              162 |
|  68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        935 |            146 |           193 |          1794 |      1.79542e+06 |   9.50002 |          1627 |              167 |
|   4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       3179 |            343 |           794 |          6372 | 391219           |   9.50008 |          6195 |              177 |
|  56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       2416 |            472 |           752 |          7951 | 460003           |   9.50011 |          7770 |              181 |
| 100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        568 |             44 |           132 |          1114 |      3.49134e+06 |   9.50001 |           926 |              188 |
|  14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        245 |             29 |            78 |           844 |      5.33222e+06 |   9.50001 |           650 |              194 |
|  86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1501 |            104 |           375 |          3255 | 927234           |   9.50003 |          3052 |              203 |
|  15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        959 |            137 |           196 |          1909 |      1.7031e+06  |   9.50002 |          1697 |              212 |
|  27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4861 |            456 |          1007 |          8027 | 265700           |   9.50009 |          7812 |              215 |
|  11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        722 |            135 |           247 |          1926 |      1.9911e+06  |   9.50002 |          1702 |              224 |
|  66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        863 |            150 |           219 |          1746 |      1.94523e+06 |   9.50002 |          1518 |              228 |
|  48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       5609 |            521 |          1322 |         10621 | 217826           |   9.5001  |         10376 |              245 |
|  39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        512 |            119 |           185 |          1417 |      2.41589e+06 |   9.50002 |          1141 |              276 |
|  28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        902 |             62 |           236 |          2282 |      1.57503e+06 |   9.50003 |          1982 |              300 |
|  76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3567 |            557 |           772 |          5791 | 455931           |   9.50008 |          5478 |              313 |
|  43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3928 |            316 |           726 |          8371 | 347696           |   9.50008 |          8055 |              316 |
|  60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2994 |            589 |           695 |          5738 | 460848           |   9.50009 |          5418 |              320 |
|  72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        788 |             64 |           236 |          2244 |      1.81332e+06 |   9.50905 |          1902 |              342 |
|  67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       2060 |            405 |           571 |          4322 | 581073           |   9.50007 |          3958 |              364 |
|  19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        562 |             46 |           142 |          1835 |      2.45854e+06 |   9.50002 |          1449 |              386 |
|  30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |       1128 |            207 |           329 |          3015 |      1.53255e+06 |   9.50002 |          2627 |              388 |
|  62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        545 |            102 |           185 |          1946 |      2.32697e+06 |   9.50107 |          1538 |              408 |
|  59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       2001 |            208 |           530 |          5563 | 618921           |   9.50007 |          5131 |              432 |
|  42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        563 |            150 |           171 |          2143 |      2.32599e+06 |   9.50002 |          1637 |              506 |
|  52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       3236 |            615 |          1021 |          9566 | 284632           |   9.50011 |          9042 |              524 |
|   7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       3545 |            545 |          1202 |          9262 | 284741           |   9.5001  |          8710 |              552 |
|  97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       3883 |            825 |          1496 |         11972 | 267705           |   9.50014 |         11416 |              556 |
|  23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        795 |            135 |           260 |          3031 |      1.49811e+06 |   9.50794 |          2446 |              585 |
|  55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       3081 |            421 |           755 |          7817 | 410041           |   9.50009 |          7226 |              591 |
|  16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1820 |            259 |           456 |          4033 | 888021           |   9.50004 |          3427 |              606 |
|  73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2796 |            471 |           660 |          8276 | 387080           |   9.50007 |          7613 |              663 |
|  37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1614 |            327 |           579 |          5025 | 635125           |   9.50006 |          4330 |              695 |
|  44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2526 |            335 |           862 |          8203 | 427464           |   9.50008 |          7415 |              788 |
|  63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       5417 |            875 |          2080 |         13490 | 203551           |   9.50012 |         12400 |             1090 |

</details>

<details>
<summary>順位表 16ed8b060f755e3f389da36382b2df0d358025be</summary>

| Handle        | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|---------------|------------|-------|--------------------------|-----------|----------------|--------------|
| CatalinT      | 993888.89  | 1     | 06.07.2018 15:41:24 EST  | C++       | 3              | 3            |
| nika          | 965370.37  | 2     | 06.07.2018 18:17:40 EST  | C++       | 1              | 3            |
| H_a_s_h       | 917037.04  | 3     | 06.07.2018 13:54:11 EST  | C++       | 1              | 1            |
| mhora         | 897037.04  | 4     | 06.08.2018 00:45:13 EST  | C++       | 4              | 3            |
| yowa          | 847962.96  | 5     | 06.07.2018 13:43:01 EST  | C++       | 3              | 3            |
| imazato       | 785000.00  | 6     | 06.07.2018 12:53:13 EST  | C++       | 1              | 1            |
| yuya178       | 777777.78  | 7     | 06.08.2018 00:57:21 EST  | Java      | 4              | 3            |
| marek.cygan   | 755185.19  | 8     | 06.08.2018 01:53:11 EST  | C++       | 1              | 1            |
| JacoCronje    | 654074.07  | 9     | 06.07.2018 10:45:15 EST  | C++       | 4              | 3            |
| kimiyuki      | 617037.04  | 10    | 06.08.2018 02:34:01 EST  | C++       | 1              | 3            |
| tourist       | 615740.74  | 11    | 06.07.2018 11:48:59 EST  | C++       | 2              | 2            |
| RafbillFr     | 591296.30  | 12    | 06.07.2018 08:48:52 EST  | C++       | 2              | 2            |
| gorbunov      | 570370.37  | 13    | 06.07.2018 13:58:22 EST  | C++       | 1              | 1            |
| okazaki       | 493888.89  | 14    | 06.07.2018 10:56:06 EST  | Java      | 0              | 2            |
| iwashi31      | 487962.96  | 15    | 06.07.2018 12:16:32 EST  | C++       | 0              | 1            |
| senya0126     | 447777.78  | 16    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| ktuan         | 432037.04  | 17    | 06.08.2018 01:23:35 EST  | C++       | 2              | 2            |
| fetetriste    | 372407.41  | 18    | 06.07.2018 11:46:54 EST  | Java      | 3              | 3            |
| Hohol         | 361851.85  | 19    | 06.07.2018 20:41:20 EST  | Java      | 0              | 1            |
| windhunterSB  | 309814.81  | 20    | 06.08.2018 00:36:46 EST  | C++       | 2              | 2            |
| y_kawano      | 260925.93  | 21    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| spagiarri     | 258518.52  | 22    | 06.07.2018 16:06:54 EST  | C++       | 3              | 3            |
| gurualo       | 193148.15  | 23    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| sas4eka       | 143888.89  | 24    | 06.07.2018 17:17:33 EST  | C++       | 3              | 2            |
| ceni1055      | 93703.70   | 25    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id            | 2962.96    | 26    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd         | 2962.96    | 26    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON      | 2962.96    | 26    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| keymoon       | -          | -     | -                        | -         | 1              | 0            |
| PaulJefferys  | -          | -     | -                        | -         | 1              | 0            |

</details>


### 2018年  6月  8日 金曜日 15:40:45 JST

さて次は何をしよう。
指定すべきBoltzmann定数はseedごとに異なるように思われるのでこの傾向の把握。
評価値の高速化、差分更新。
でも両方まだ早くないか？

### 2018年  6月  8日 金曜日 16:19:15 JST

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.hand.png?token=ACGd-NxOt_Dd0NDcjbPRQHJHtC_lTY5aks5bI2iowA%3D%3D)

手で解きました。 現状は登って1700焼いても1900のところ手で2800。 だめすぎる。 貪欲が弱い。
2色の光源を同時に置くような操作が必要か。
これは面倒なので、secondary colorsの水晶が半分の色で照らされてるときにちょっと加点するような評価関数はどうか。
これ罠があって、どうやっても照らせない2色の水晶を事前に消さないとだめ。

### 2018年  6月  8日 金曜日 17:04:40 JST

不可能な水晶に注釈付けたり無駄な空間を埋めたり: [927cd86677d96814db5fffdbce4160a30a010f77](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/927cd86677d96814db5fffdbce4160a30a010f77)

seed = 11 だと

<details>
<summary>これが</summary>

```
X...X3.6X....1X....6........X3.22..644X.......
...6X2.X......3.....X...X..X5........2X33..3.1
..XX.....344..1X.6......6..........2..156..35.
.6....64.....3...X.4....X....6.6..1.X6...5X...
6.6...4..141X.....55....43X6...4XX..4X23..3...
.XX4..1XX.3......1.5...X.1..1.X....2.....46...
XX..4..6X22..X..3XX...5..5.2.....3.X.54.2..X..
.XXXX......XX..5.34114X1X1...1XX..414.16.X.461
.26..X.X......XX...41...X...3.5..2645........X
.55.X1.X......3..2.4........X.X...6........6..
....X..X.41.4.......1.X6.X1.6..1..X..46.....32
.....1..2.......3..4...X.5XXX.1....4.....2....
5X..X..3XX....3.....2..X.X.4XX.14........3....
2X..3.555..........X....X1...11.3......4..24..
.....2X...X.........43X.X......2X...X.2...X..4
2..X5XXX.X.2X...X.X..............X..X...1.44.X
.6...2.6..5.614.5.5.......5..X.X.X.5.X.....X..
2X12...X....X.3.X3..2.4..5...3X.2...4....2....
5....X.X.6........3X..5.1...5X....51..X.X.....
X.............4......X........51.............4
X.5..6...5...5...5.XX5..1...X6X....5XX11.4....
.6....X1X..1.54...66X.5.5X.......2.6..3.......
.....2X..54...X4......4352XX1..2.......X......
6...4.X4......1X5...3.45........3....6X.X...56
```

</details>

<details>
<summary>こうなる</summary>

```
X...X8.8X....1X....6........X3.22..64XX.......
...6X2.X......3.....X...X..X5........2X83..3.1
..XX.....344..1X.6......6..........2..186..35.
.6....64.....3...X.4....X....6.6..1.X6...5X...
6.6...4..141X.....58....48X6...4XX..4X23..3...
.XX4..1XX.3......1.5...X.1..1.X....2.....46...
XX..4..6X22..X..3XX...5..5.2.....3.X.54.2..X..
.XXXX......XX..5.34114X1X1...1XX..4X4.16.X.461
.28..X.X......XX...41...X...3.5..2X45........X
.55.X1.X......3..2.4........X.X...6........6..
....X..X.41.4.......1.X6.X1.6..1..X..46.....32
.....1..2.......3..4...X.8XXX.1....4.....2....
8X..X..3XX....3.....2..X.X.4XX.14........3....
2X..3.585..........X....X1...11.3......4..24..
.....2X...X.........43X.X......2X...X.2...X..4
2..X5XXX.X.2X...X.X..............X..X...1.44.X
.6...2.6..5.814.5.5.......5..X.X.X.5.X.....X..
2X12...X....X.3.X3..2.4..5...8X.2...4....2....
8....X.X.6........3X..5.1...5X....51..X.X.....
X.............4......X........51.............4
X.5..6...5...5...5.XX5..1...X6X....5XX11.4....
.6....X1X..1.54...68X.5.8X.......2.6..3.......
.....2X..54...X4......4882XX1..2.......X......
6...4.X4......1X5...3.48........3....6XXX...58
```

</details>

### 2018年  6月  8日 金曜日 17:42:36 JST

secondary水晶を部分的に照らすのに加点: [67fc04b90991224c993a1b31fe0c7dd87feef133](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/67fc04b90991224c993a1b31fe0c7dd87feef133)

大成功。 seed = 11 で最高2900が出る。 左上の橙4個がきちんと照らされているのが分かる。

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.67fc04b90991224c993a1b31fe0c7dd87feef133.png?token=ACGd-B_uldsK6oRHi94DNuxB4Qy6YfLHks5bI3zdwA%3D%3D)

しかし評価関数 [CrystalLighting.cpp#L310-L312](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/blob/67fc04b90991224c993a1b31fe0c7dd87feef133/CrystalLighting.cpp#L310-L312) の調整が難しい。 次の課題はこれか、単に高速化か。 しかしもう1手こう問題依存の改善を決めたいところではある。

<details>
<summary>score表 67fc04b90991224c993a1b31fe0c7dd87feef133</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   raw_score |        iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-------------|------------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         53 |             24 |            23 |         376 |      1.07534e+07 |   9.50001 |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       2241 |            288 |           496 |        7099 | 326207           |   9.50165 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       7418 |            592 |          1990 |       13676 | 106793           |   9.50023 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       3179 |            351 |           786 |        8382 | 208447           |   9.50014 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       3314 |            625 |           958 |       10859 | 177077           |   9.50018 |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        789 |            176 |           259 |        3666 | 811228           |   9.50202 |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       3543 |            564 |          1185 |       11527 | 164691           |   9.50021 |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |       1065 |            161 |           244 |        3453 | 773173           |   9.5019  |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2940 |            406 |           724 |       10145 | 227806           |   9.50014 |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2471 |            317 |           656 |        9940 | 238487           |   9.5001  |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        721 |            139 |           244 |        2690 |      1.20396e+06 |   9.50005 |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       3291 |            390 |           705 |        9859 | 210303           |   9.50042 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       2354 |            469 |           832 |        8523 | 213836           |   9.5001  |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        245 |             32 |            75 |        1208 |      3.47816e+06 |   9.50001 |
|     15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        958 |            143 |           191 |        2784 | 981562           |   9.50004 |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1817 |            265 |           453 |        5132 | 365432           |   9.50007 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        847 |            217 |           181 |        2793 |      1.02239e+06 |   9.50003 |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       3452 |            318 |           980 |       10290 | 217997           |   9.5001  |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        562 |             47 |           141 |        2415 |      1.72575e+06 |   9.50003 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2420 |            326 |           602 |        6569 | 300834           |   9.5001  |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2617 |            241 |           914 |       10410 | 247861           |   9.50011 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       2013 |            193 |           710 |        7268 | 319588           |   9.5001  |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        795 |            138 |           257 |        4068 | 853110           |   9.50003 |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |       1040 |            110 |           230 |        3049 | 761981           |   9.50029 |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3689 |            700 |          1131 |       10995 | 166899           |   9.5002  |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1286 |            171 |           391 |        4458 | 589125           |   9.50007 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4860 |            461 |          1003 |       10133 | 164990           |   9.50014 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        902 |             63 |           235 |        2888 |      1.13387e+06 |   9.50004 |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        280 |             34 |            94 |         946 |      3.79846e+06 |   9.50003 |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |       1128 |            208 |           328 |        4463 | 648219           |   9.50005 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       4255 |            299 |          1053 |       11942 | 176609           |   9.5001  |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        475 |            114 |           171 |        1770 |      2.00772e+06 |   9.50002 |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |       1247 |            290 |           493 |        5495 | 531271           |   9.50007 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1598 |            103 |           411 |        5360 | 531051           |   9.50007 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3879 |            360 |           945 |        9604 | 189680           |   9.50018 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       5801 |            428 |          1683 |       11690 | 128151           |   9.50016 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1613 |            336 |           571 |        6773 | 391314           |   9.5001  |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        384 |             49 |            99 |        1695 |      2.37526e+06 |   9.50001 |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        511 |            124 |           181 |        1999 |      1.62865e+06 |   9.50002 |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        458 |             44 |           118 |        1479 |      2.35796e+06 |   9.50003 |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       2092 |            393 |           503 |        7167 | 277906           |   9.50012 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        561 |            155 |           168 |        2776 |      1.27633e+06 |   9.50002 |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3928 |            317 |           725 |       11005 | 186478           |   9.50013 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2526 |            343 |           854 |       10234 | 230386           |   9.50015 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2392 |            283 |           562 |        6528 | 304636           |   9.5001  |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       2164 |            463 |           773 |        7825 | 272004           |   9.50008 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        258 |             48 |           100 |        1118 |      3.25242e+06 |   9.50001 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       5608 |            531 |          1313 |       13301 | 132118           |   9.50014 |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2881 |            585 |           920 |        8665 | 216724           |   9.50013 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |       1123 |            256 |           381 |        3872 | 574218           |   9.50006 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1330 |            184 |           464 |        4974 | 497579           |   9.50006 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       3233 |            625 |          1014 |       10906 | 195218           |   9.50018 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       5666 |            669 |          1477 |        9771 | 121388           |   9.50012 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2389 |            262 |           588 |        6484 | 276566           |   9.50028 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       3080 |            429 |           748 |       11143 | 178919           |   9.50011 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       2414 |            485 |           741 |       10348 | 220340           |   9.50013 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1513 |            382 |           570 |        7164 | 326672           |   9.50009 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        472 |             37 |           129 |        1660 |      1.96982e+06 |   9.50002 |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       2001 |            211 |           527 |        7490 | 327189           |   9.50009 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2993 |            602 |           683 |        7676 | 214845           |   9.50014 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       2027 |            270 |           433 |        5186 | 348551           |   9.50009 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        544 |            104 |           184 |        2643 |      1.37327e+06 |   9.50002 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       5417 |            914 |          2041 |       16422 | 110487           |   9.50023 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       2252 |            281 |           616 |        6984 | 268502           |   9.5001  |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       2020 |            152 |           428 |        6623 | 368377           |   9.50008 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        861 |            153 |           218 |        2992 |      1.0252e+06  |   9.50024 |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       2059 |            409 |           568 |        6278 | 290778           |   9.50008 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        935 |            148 |           191 |        2688 |      1.01358e+06 |   9.50005 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |       1223 |            327 |           522 |        5698 | 421880           |   9.50009 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1498 |            146 |           456 |        6063 | 513178           |   9.50006 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       2125 |            284 |           741 |        7140 | 315102           |   9.50009 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        788 |             65 |           235 |        2814 |      1.10911e+06 |   9.50004 |
|     73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2795 |            479 |           653 |       10615 | 221060           |   9.50009 |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1805 |            109 |           556 |        5753 | 434049           |   9.50008 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       3117 |            747 |          1176 |       13020 | 179866           |   9.50016 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3567 |            564 |           765 |        7975 | 220431           |   9.50012 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        415 |            104 |           119 |        1265 |      2.20028e+06 |   9.50002 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        716 |            159 |           275 |        3995 | 866899           |   9.50005 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        633 |            156 |           146 |        1935 |      1.45014e+06 |   9.50003 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |       1114 |            204 |           203 |        2398 | 821154           |   9.50004 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       3181 |            389 |           987 |       13547 | 174360           |   9.50012 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       2064 |            404 |           706 |        5902 | 280213           |   9.5001  |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       3061 |            256 |          1108 |        9223 | 208773           |   9.50013 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       2083 |            193 |           536 |        6463 | 320364           |   9.50013 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       3249 |            371 |          1077 |       12731 | 178141           |   9.50016 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1501 |            106 |           373 |        4976 | 537057           |   9.50008 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4998 |            361 |           992 |       10934 | 162284           |   9.50021 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       3402 |            531 |          1215 |       12746 | 168586           |   9.50012 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        979 |             93 |           244 |        3103 | 936675           |   9.50004 |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        588 |             34 |           194 |        2488 |      1.36405e+06 |   9.50003 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       5435 |            387 |          1647 |       11559 | 124770           |   9.5002  |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       4330 |            490 |          1300 |       10430 | 152660           |   9.50016 |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1686 |            130 |           527 |        6844 | 454178           |   9.50007 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       3010 |            840 |          1246 |        9180 | 186635           |   9.50017 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3509 |            516 |           733 |        9150 | 191085           |   9.50017 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       3628 |            565 |          1235 |       10970 | 183018           |   9.50015 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       3882 |            868 |          1454 |       14076 | 150710           |   9.50023 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        829 |            107 |           204 |        2581 |      1.09611e+06 |   9.50002 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1516 |            278 |           315 |        4514 | 501223           |   9.50005 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        568 |             44 |           132 |        1770 |      1.91535e+06 |   9.50002 |

</details>

<details>
<summary>順位表 67fc04b90991224c993a1b31fe0c7dd87feef133</summary>

| Handle        | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|---------------|------------|-------|--------------------------|-----------|----------------|--------------|
| CatalinT      | 999464.29  | 1     | 06.08.2018 04:22:56 EST  | C++       | 4              | 4            |
| nika          | 961607.14  | 2     | 06.07.2018 18:17:40 EST  | C++       | 1              | 3            |
| H_a_s_h       | 910357.14  | 3     | 06.07.2018 13:54:11 EST  | C++       | 1              | 1            |
| mhora         | 872500.00  | 4     | 06.08.2018 00:45:13 EST  | C++       | 4              | 3            |
| marek.cygan   | 840000.00  | 5     | 06.08.2018 04:00:19 EST  | C++       | 3              | 2            |
| yowa          | 819642.86  | 6     | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| kimiyuki      | 788392.86  | 7     | 06.08.2018 04:43:55 EST  | C++       | 3              | 4            |
| mugurelionut  | 737857.14  | 8     | 06.08.2018 04:34:24 EST  | C++       | 2              | 1            |
| JacoCronje    | 705357.14  | 9     | 06.08.2018 02:55:20 EST  | C++       | 6              | 4            |
| imazato       | 694107.14  | 10    | 06.07.2018 12:53:13 EST  | C++       | 1              | 1            |
| yuya178       | 688214.29  | 11    | 06.08.2018 00:57:21 EST  | Java      | 4              | 3            |
| ktuan         | 559821.43  | 12    | 06.08.2018 03:51:50 EST  | C++       | 3              | 3            |
| tourist       | 544464.29  | 13    | 06.07.2018 11:48:59 EST  | C++       | 2              | 2            |
| RafbillFr     | 529285.71  | 14    | 06.07.2018 08:48:52 EST  | C++       | 2              | 2            |
| gorbunov      | 510357.14  | 15    | 06.07.2018 13:58:22 EST  | C++       | 1              | 1            |
| iwashi31      | 445892.86  | 16    | 06.07.2018 12:16:32 EST  | C++       | 0              | 1            |
| okazaki       | 439285.71  | 17    | 06.07.2018 10:56:06 EST  | Java      | 0              | 2            |
| senya0126     | 405714.29  | 18    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| Hohol         | 336071.43  | 19    | 06.07.2018 20:41:20 EST  | Java      | 0              | 1            |
| fetetriste    | 335535.71  | 20    | 06.07.2018 11:46:54 EST  | Java      | 3              | 3            |
| windhunterSB  | 285178.57  | 21    | 06.08.2018 00:36:46 EST  | C++       | 2              | 2            |
| sas4eka       | 271428.57  | 22    | 06.08.2018 03:17:05 EST  | C++       | 3              | 3            |
| y_kawano      | 221607.14  | 23    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| spagiarri     | 216071.43  | 24    | 06.07.2018 16:06:54 EST  | C++       | 3              | 3            |
| gurualo       | 154642.86  | 25    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| ceni1055      | 76428.57   | 26    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id            | 2857.14    | 27    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd         | 2857.14    | 27    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON      | 2857.14    | 27    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| jml04         | -          | -     | -                        | -         | 1              | 0            |
| keymoon       | -          | -     | -                        | -         | 1              | 0            |
| PaulJefferys  | -          | -     | -                        | -         | 1              | 0            |

</details>


### 2018年  6月  8日 金曜日 17:51:36 JST

キーボードを触りすぎ。 戦略的には問題ないのだけど指の怪我が悪化してきた


### 2018年  6月  8日 金曜日 19:06:55 JST

近傍の案。
明らかにまだ人間が直感的に選ぶであろう近傍をこぼしている。
ひとつずらすでなくて、干渉の発生する位置を飛び越えて、複数ずらすのをしたい。
ずらすと他の光源の光に当たってしまうとき、その対象を逆向きに動かして回避したい。
あるいは単純に、干渉してきた光源の全撤去。
ひとつの対象を除去するのでなくて、水晶や光源や空きマスを選んで関連するものすべての除去。
間違った色で照らされている水晶を選んで、関連する余分な色の光源を除去ないし適切なものに変更。

評価関数について。
不足分だけでなくて余剰分も許すのはどうか、つまり要求が赤に対し紫なら緑よりはましだろうという判断。
空間の充填率を使う、光線が通っていると他の光源を置けないのであまりうれしくないため。

heuristicsの改善として、局所性の利用。
注目点のような座標を持っておいて、その周囲に関する近傍のみを考える。
注目点はrandom walkさせるなどする。
焼き鈍しの採用確率は悪化量に単調な関数だが、そうではなくて知られている最大値との差分の関数にする。
局所性により下がり幅は小さいので確実な改善が見込める。
あるいはこれを単純化してbfs的な改善を繰り返すとか。

高速化。
差分更新はふつうにやればできそう。
光線が通ってないマスの管理も O(1)。


### 2018年  6月  9日 土曜日 13:37:18 JST

差分更新: [b6bab86446e3b8e2bae6ce6fa8920bfe0a260e86](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/b6bab86446e3b8e2bae6ce6fa8920bfe0a260e86)

バグで手間取った。
頭が悪いので泥沼にはまって5時間ぐらい消えたが、寝て整理してからやれば1時間だった。

でもまだバグがある気がしますね。

<details>
<summary>順位表 b6bab86446e3b8e2bae6ce6fa8920bfe0a260e86</summary>

| Handle          | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|-----------------|------------|-------|--------------------------|-----------|----------------|--------------|
| eldidou         | 982870.37  | 1     | 06.08.2018 19:47:31 EST  | C++       | 4              | 3            |
| kurenai3110     | 974351.85  | 2     | 06.08.2018 12:27:28 EST  | C++       | 1              | 1            |
| Psyho           | 962962.96  | 3     | 06.09.2018 01:14:34 EST  | C++       | 2              | 6            |
| tourist         | 951203.70  | 4     | 06.08.2018 20:15:58 EST  | C++       | 16             | 8            |
| PaulJefferys    | 899537.04  | 5     | 06.08.2018 18:02:26 EST  | C++       | 3              | 2            |
| nika            | 866481.48  | 6     | 06.08.2018 11:29:50 EST  | C++       | 2              | 4            |
| kosakkun        | 859629.63  | 7     | 06.08.2018 16:54:59 EST  | C++       | 4              | 2            |
| marek.cygan     | 839259.26  | 8     | 06.09.2018 01:22:47 EST  | C++       | 8              | 8            |
| JacoCronje      | 838611.11  | 9     | 06.08.2018 16:38:54 EST  | C++       | 8              | 7            |
| EvbCFfp1XB      | 831759.26  | 10    | 06.08.2018 06:34:33 EST  | Java      | 1              | 1            |
| skrzypl1        | 818425.93  | 11    | 06.08.2018 14:05:56 EST  | C#        | 3              | 3            |
| gorbunov        | 781759.26  | 12    | 06.08.2018 14:49:00 EST  | C++       | 4              | 3            |
| yuya178         | 776574.07  | 13    | 06.08.2018 13:08:48 EST  | Java      | 12             | 6            |
| chokudai        | 765000.00  | 14    | 06.08.2018 21:31:31 EST  | C++       | 6              | 3            |
| mhora           | 725740.74  | 15    | 06.08.2018 23:27:00 EST  | C++       | 8              | 7            |
| H_a_s_h         | 713888.89  | 16    | 06.07.2018 13:54:11 EST  | C++       | 1              | 1            |
| sdya            | 697037.04  | 17    | 06.08.2018 23:09:44 EST  | C++       | 4              | 4            |
| RafbillFr       | 663148.15  | 18    | 06.08.2018 18:21:20 EST  | C++       | 5              | 5            |
| krismaz         | 662407.41  | 19    | 06.08.2018 18:39:18 EST  | C++       | 3              | 3            |
| imazato         | 637685.19  | 20    | 06.09.2018 00:04:23 EST  | C++       | 3              | 3            |
| yowa            | 629814.81  | 21    | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| hoshi524        | 584444.44  | 22    | 06.08.2018 22:12:54 EST  | C++       | 1              | 1            |
| mugurelionut    | 566388.89  | 23    | 06.08.2018 18:57:16 EST  | C++       | 4              | 2            |
| kimiyuki        | 560277.78  | 24    | 06.09.2018 00:42:34 EST  | C++       | 4              | 5            |
| eris_c          | 533703.70  | 25    | 06.09.2018 01:33:51 EST  | C++       | 3              | 3            |
| fetetriste      | 519351.85  | 26    | 06.09.2018 01:29:14 EST  | Java      | 7              | 6            |
| okazaki         | 514166.67  | 27    | 06.09.2018 02:26:52 EST  | Java      | 2              | 7            |
| iwashi31        | 505555.56  | 28    | 06.08.2018 07:07:25 EST  | C++       | 0              | 2            |
| kyuridenamida   | 486203.70  | 29    | 06.08.2018 20:21:46 EST  | C++       | 2              | 2            |
| windhunterSB    | 468703.70  | 30    | 06.09.2018 02:21:10 EST  | C++       | 9              | 6            |
| CatalinT        | 454537.04  | 31    | 06.08.2018 17:09:37 EST  | C++       | 5              | 6            |
| kt_tenel        | 443333.33  | 32    | 06.08.2018 13:52:23 EST  | C++       | 4              | 2            |
| NobuMiu         | 416944.44  | 33    | 06.09.2018 02:24:23 EST  | C++       | 3              | 2            |
| sas4eka         | 415833.33  | 34    | 06.08.2018 19:13:03 EST  | C++       | 8              | 7            |
| ktuan           | 373240.74  | 35    | 06.08.2018 03:51:50 EST  | C++       | 3              | 3            |
| spagiarri       | 365740.74  | 36    | 06.08.2018 18:47:58 EST  | C++       | 5              | 5            |
| tanzaku         | 365277.78  | 37    | 06.08.2018 23:04:07 EST  | Java      | 2              | 1            |
| senya0126       | 312037.04  | 38    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| Hohol           | 301666.67  | 39    | 06.08.2018 16:59:39 EST  | Java      | 0              | 5            |
| luvtechno       | 290555.56  | 40    | 06.09.2018 02:35:02 EST  | Java      | 4              | 4            |
| my316g          | 283703.70  | 41    | 06.08.2018 21:48:24 EST  | C++       | 1              | 1            |
| kotamanegi      | 238611.11  | 42    | 06.08.2018 22:21:16 EST  | C++       | 1              | 1            |
| y_kawano        | 230555.56  | 43    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| AAAAAnt         | 213796.30  | 44    | 06.08.2018 14:39:23 EST  | Java      | 1              | 2            |
| PikokoLoko      | 197962.96  | 45    | 06.08.2018 11:44:00 EST  | Java      | 1              | 1            |
| robjermy        | 189259.26  | 46    | 06.08.2018 15:01:05 EST  | C++       | 1              | 1            |
| gurualo         | 168148.15  | 47    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| moshu           | 136851.85  | 48    | 06.08.2018 13:02:05 EST  | C++       | 2              | 2            |
| ceni1055        | 90925.93   | 49    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id              | 6666.67    | 50    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd           | 6666.67    | 50    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON        | 6666.67    | 50    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| gchebanov       | 2962.96    | 53    | 06.08.2018 15:15:20 EST  | C++       | 0              | 1            |
| jml04           | 0.00       | 54    | 06.08.2018 05:58:01 EST  | Java      | 1              | 1            |
| USERHACKER      | 0.00       | 54    | 06.08.2018 16:46:03 EST  | C++       | 1              | 2            |
| keymoon         | -          | -     | -                        | -         | 1              | 0            |
| southpolenator  | -          | -     | -                        | -         | 2              | 0            |

</details>

<details>
<summary>score表 b6bab86446e3b8e2bae6ce6fa8920bfe0a260e86</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   raw_score |   iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-------------|-------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         40 |             24 |            36 |         184 | 3.35886e+07 |   9.5     |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1931 |            289 |           805 |        6716 | 1.70746e+07 |   9.50001 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6390 |            592 |          3018 |       20974 | 1.03518e+07 |   9.50002 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2717 |            351 |          1248 |        9346 | 1.4806e+07  |   9.50001 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2763 |            625 |          1509 |       12025 | 1.41939e+07 |   9.50002 |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        633 |            180 |           411 |        3174 | 1.9479e+07  |   9.5     |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2915 |            564 |          1813 |       13358 | 1.49315e+07 |   9.50001 |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        904 |            161 |           405 |        3210 | 1.99471e+07 |   9.5     |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2510 |            406 |          1154 |       10605 | 1.67833e+07 |   9.50002 |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2094 |            317 |          1033 |        9526 | 1.65397e+07 |   9.50001 |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        594 |            139 |           371 |        2377 | 2.08556e+07 |   9.5     |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2865 |            390 |          1131 |        9962 | 1.55369e+07 |   9.50001 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1905 |            469 |          1281 |        9336 | 1.76608e+07 |   9.50001 |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        200 |             32 |           120 |        1120 | 2.5455e+07  |   9.5     |
|     15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        835 |            143 |           314 |        2472 | 2.08078e+07 |   9.50001 |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1552 |            265 |           718 |        4925 | 1.72896e+07 |   9.50001 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        719 |            217 |           309 |        2648 | 2.02584e+07 |   9.5     |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2938 |            319 |          1493 |       10624 | 1.53099e+07 |   9.50002 |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        478 |             48 |           224 |        2161 | 2.5047e+07  |   9.50001 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2079 |            326 |           943 |        6692 | 1.7763e+07  |   9.50001 |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2165 |            241 |          1366 |       10342 | 1.59511e+07 |   9.50001 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1672 |            193 |          1051 |        6312 | 1.8158e+07  |   9.50001 |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        651 |            138 |           401 |        4052 | 2.01088e+07 |   9.5001  |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        897 |            110 |           373 |        2819 | 1.88846e+07 |   9.5     |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3045 |            700 |          1775 |       13210 | 1.37827e+07 |   9.50002 |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1085 |            171 |           592 |        3610 | 1.85661e+07 |   9.50001 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4285 |            461 |          1578 |       12365 | 1.33556e+07 |   9.50002 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        778 |             63 |           359 |        2668 | 1.92847e+07 |   9.5     |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        232 |             34 |           142 |         820 | 2.6866e+07  |   9.5     |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        926 |            208 |           530 |        4322 | 1.98234e+07 |   9.50001 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3701 |            299 |          1607 |       12910 | 1.45429e+07 |   9.50002 |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        388 |            114 |           258 |        1464 | 2.61012e+07 |   9.5     |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        986 |            290 |           754 |        4894 | 1.83341e+07 |   9.50001 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1378 |            103 |           631 |        5300 | 1.78718e+07 |   9.50001 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3367 |            360 |          1457 |       10786 | 1.47952e+07 |   9.50001 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4967 |            428 |          2517 |       16424 | 1.25166e+07 |   9.50002 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1293 |            336 |           891 |        5950 | 1.86105e+07 |   9.50001 |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        328 |             49 |           155 |        1613 | 2.63371e+07 |   9.5     |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        400 |            126 |           290 |        1722 | 2.59515e+07 |   9.5     |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        386 |             44 |           190 |        1446 | 2.5277e+07  |   9.5     |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1764 |            393 |           831 |        6978 | 1.73538e+07 |   9.50001 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        447 |            155 |           282 |        2816 | 2.35036e+07 |   9.5     |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3489 |            317 |          1164 |       12162 | 1.35196e+07 |   9.50001 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2085 |            343 |          1295 |       10527 | 1.59297e+07 |   9.50001 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2065 |            284 |           888 |        6379 | 1.7158e+07  |   9.50001 |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1724 |            463 |          1213 |        7850 | 1.70493e+07 |   9.50001 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        205 |             48 |           153 |        1049 | 2.77008e+07 |   9.50001 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4898 |            531 |          2023 |       16520 | 1.2544e+07  |   9.50002 |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2349 |            590 |          1447 |        9452 | 1.63057e+07 |   9.50001 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        913 |            256 |           591 |        3560 | 1.9515e+07  |   9.50001 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1087 |            184 |           707 |        4456 | 1.88338e+07 |   9.50001 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2671 |            625 |          1576 |       12072 | 1.55579e+07 |   9.50001 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4920 |            669 |          2223 |       14330 | 1.24968e+07 |   9.50002 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2061 |            262 |           916 |        6478 | 1.61927e+07 |   9.50001 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2615 |            429 |          1213 |       12475 | 1.6665e+07  |   9.50001 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1982 |            485 |          1173 |       11118 | 1.68994e+07 |   9.50001 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1198 |            382 |           885 |        7025 | 1.86163e+07 |   9.50001 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        408 |             37 |           193 |        1420 | 2.48906e+07 |   9.5     |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1700 |            211 |           828 |        7617 | 1.74629e+07 |   9.50001 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2555 |            602 |          1121 |        8456 | 1.68192e+07 |   9.50001 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1766 |            270 |           694 |        5051 | 1.77998e+07 |   9.50001 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        443 |            104 |           285 |        2458 | 2.51513e+07 |   9.50385 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4363 |            914 |          3095 |       23808 | 1.26998e+07 |   9.50002 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1902 |            281 |           966 |        6530 | 1.72258e+07 |   9.50002 |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1774 |            152 |           674 |        6495 | 1.7479e+07  |   9.50001 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        730 |            153 |           349 |        2544 | 2.01778e+07 |   9.5     |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1713 |            409 |           914 |        6082 | 1.82348e+07 |   9.50001 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        808 |            148 |           318 |        2558 | 2.04498e+07 |   9.50001 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        939 |            327 |           806 |        5500 | 1.92262e+07 |   9.50001 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1259 |            146 |           695 |        5823 | 1.89164e+07 |   9.50001 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1745 |            284 |          1121 |        7260 | 1.74963e+07 |   9.50001 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        662 |             65 |           361 |        2748 | 1.96175e+07 |   9.5     |
|     73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2373 |            479 |          1075 |       10778 | 1.66265e+07 |   9.50001 |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1535 |            109 |           826 |        5800 | 1.7212e+07  |   9.50001 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2481 |            747 |          1812 |       14788 | 1.54277e+07 |   9.50001 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3070 |            564 |          1262 |        8937 | 1.56899e+07 |   9.50001 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        343 |            104 |           191 |        1190 | 2.64811e+07 |   9.50001 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        577 |            159 |           414 |        3671 | 2.0154e+07  |   9.50001 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        534 |            156 |           245 |        1797 | 2.5626e+07  |   9.50001 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        986 |            204 |           331 |        2430 | 2.09909e+07 |   9.50001 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2664 |            389 |          1504 |       13643 | 1.57804e+07 |   9.50001 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1718 |            404 |          1052 |        6010 | 1.78641e+07 |   9.50001 |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2555 |            256 |          1614 |       10036 | 1.5365e+07  |   9.50001 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1788 |            195 |           829 |        5497 | 1.70264e+07 |   9.50001 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2695 |            371 |          1631 |       13658 | 1.45352e+07 |   9.50001 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1287 |            106 |           587 |        4732 | 1.80256e+07 |   9.50001 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4429 |            361 |          1561 |       13359 | 1.37254e+07 |   9.50002 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2771 |            531 |          1846 |       14647 | 1.47323e+07 |   9.50003 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        846 |             94 |           376 |        2641 | 1.90077e+07 |   9.5     |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        492 |             34 |           290 |        2344 | 2.35436e+07 |   9.50001 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4623 |            387 |          2459 |       16484 | 1.2025e+07  |   9.50002 |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3713 |            490 |          1917 |       12160 | 1.3999e+07  |   9.50002 |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1417 |            132 |           794 |        6345 | 1.71741e+07 |   9.50001 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2394 |            840 |          1862 |       10400 | 1.47262e+07 |   9.50001 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3044 |            516 |          1198 |       10240 | 1.57072e+07 |   9.50002 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2978 |            565 |          1885 |       12990 | 1.41249e+07 |   9.50002 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       3116 |            868 |          2220 |       18058 | 1.51063e+07 |   9.50001 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        704 |            107 |           329 |        2390 | 2.14009e+07 |   9.50001 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1300 |            278 |           531 |        4444 | 2.11805e+07 |   9.50001 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        488 |             44 |           212 |        1780 | 2.58879e+07 |   9.5     |

</details>

<details>
<summary>比較表 1. b6bab86446e3b8e2bae6ce6fa8920bfe0a260e86 vs 2. 16ed8b060f755e3f389da36382b2df0d358025be </summary>

|     |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   raw_score_1 |   iteration |   raw_score_2 |   raw_score_diff |
|-----|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|---------------|-------------|---------------|------------------|
|  84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1788 |            195 |           829 |          5497 | 1.70264e+07 |          6463 |             -966 |
|  22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1672 |            193 |          1051 |          6312 | 1.8158e+07  |          7268 |             -956 |
|  26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1085 |            171 |           592 |          3610 | 1.85661e+07 |          4458 |             -848 |
|  37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1293 |            336 |           891 |          5950 | 1.86105e+07 |          6773 |             -823 |
|  33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        986 |            290 |           754 |          4894 | 1.83341e+07 |          5495 |             -601 |
|  51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1087 |            184 |           707 |          4456 | 1.88338e+07 |          4974 |             -518 |
|  93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1417 |            132 |           794 |          6345 | 1.71741e+07 |          6844 |             -499 |
|   6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        633 |            180 |           411 |          3174 | 1.9479e+07  |          3666 |             -492 |
|  89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        846 |             94 |           376 |          2641 | 1.90077e+07 |          3103 |             -462 |
|  64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1902 |            281 |           966 |          6530 | 1.72258e+07 |          6984 |             -454 |
|  66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        730 |            153 |           349 |          2544 | 2.01778e+07 |          2992 |             -448 |
|  10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2094 |            317 |          1033 |          9526 | 1.65397e+07 |          9940 |             -414 |
|   2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1931 |            289 |           805 |          6716 | 1.70746e+07 |          7099 |             -383 |
|  78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        577 |            159 |           414 |          3671 | 2.0154e+07  |          3995 |             -324 |
|  11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        594 |            139 |           371 |          2377 | 2.08556e+07 |          2690 |             -313 |
|  50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        913 |            256 |           591 |          3560 | 1.9515e+07  |          3872 |             -312 |
|  15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        835 |            143 |           314 |          2472 | 2.08078e+07 |          2784 |             -312 |
|  32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        388 |            114 |           258 |          1464 | 2.61012e+07 |          1770 |             -306 |
|  39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        400 |            126 |           290 |          1722 | 2.59515e+07 |          1999 |             -277 |
|  19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        478 |             48 |           224 |          2161 | 2.5047e+07  |          2415 |             -254 |
|  86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1287 |            106 |           587 |          4732 | 1.80256e+07 |          4976 |             -244 |
|   8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        904 |            161 |           405 |          3210 | 1.99471e+07 |          3453 |             -243 |
|  58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        408 |             37 |           193 |          1420 | 2.48906e+07 |          1660 |             -240 |
|  70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1259 |            146 |           695 |          5823 | 1.89164e+07 |          6063 |             -240 |
|  24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        897 |            110 |           373 |          2819 | 1.88846e+07 |          3049 |             -230 |
|  28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        778 |             63 |           359 |          2668 | 1.92847e+07 |          2888 |             -220 |
|  16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1552 |            265 |           718 |          4925 | 1.72896e+07 |          5132 |             -207 |
|  69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        939 |            327 |           806 |          5500 | 1.92262e+07 |          5698 |             -198 |
|  67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1713 |            409 |           914 |          6082 | 1.82348e+07 |          6278 |             -196 |
|   1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         40 |             24 |            36 |           184 | 3.35886e+07 |           376 |             -192 |
|  98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        704 |            107 |           329 |          2390 | 2.14009e+07 |          2581 |             -191 |
|  41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1764 |            393 |           831 |          6978 | 1.73538e+07 |          7167 |             -189 |
|  62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        443 |            104 |           285 |          2458 | 2.51513e+07 |          2643 |             -185 |
|  45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2065 |            284 |           888 |          6379 | 1.7158e+07  |          6528 |             -149 |
|  17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        719 |            217 |           309 |          2648 | 2.02584e+07 |          2793 |             -145 |
|  90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        492 |             34 |           290 |          2344 | 2.35436e+07 |          2488 |             -144 |
|  30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        926 |            208 |           530 |          4322 | 1.98234e+07 |          4463 |             -141 |
|  57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1198 |            382 |           885 |          7025 | 1.86163e+07 |          7164 |             -139 |
|  79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        534 |            156 |           245 |          1797 | 2.5626e+07  |          1935 |             -138 |
|  61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1766 |            270 |           694 |          5051 | 1.77998e+07 |          5186 |             -135 |
|  68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        808 |            148 |           318 |          2558 | 2.04498e+07 |          2688 |             -130 |
|  65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1774 |            152 |           674 |          6495 | 1.7479e+07  |          6623 |             -128 |
|  29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        232 |             34 |           142 |           820 | 2.6866e+07  |           946 |             -126 |
|  14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        200 |             32 |           120 |          1120 | 2.5455e+07  |          1208 |              -88 |
|  38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        328 |             49 |           155 |          1613 | 2.63371e+07 |          1695 |              -82 |
|  77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        343 |            104 |           191 |          1190 | 2.64811e+07 |          1265 |              -75 |
|  99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1300 |            278 |           531 |          4444 | 2.11805e+07 |          4514 |              -70 |
|  47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        205 |             48 |           153 |          1049 | 2.77008e+07 |          1118 |              -69 |
|  21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2165 |            241 |          1366 |         10342 | 1.59511e+07 |         10410 |              -68 |
|  72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        662 |             65 |           361 |          2748 | 1.96175e+07 |          2814 |              -66 |
|  34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1378 |            103 |           631 |          5300 | 1.78718e+07 |          5360 |              -60 |
|  40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        386 |             44 |           190 |          1446 | 2.5277e+07  |          1479 |              -33 |
|  23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        651 |            138 |           401 |          4052 | 2.01088e+07 |          4068 |              -16 |
|  54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2061 |            262 |           916 |          6478 | 1.61927e+07 |          6484 |               -6 |
| 100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        488 |             44 |           212 |          1780 | 2.58879e+07 |          1770 |               10 |
|  46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1724 |            463 |          1213 |          7850 | 1.70493e+07 |          7825 |               25 |
|  80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        986 |            204 |           331 |          2430 | 2.09909e+07 |          2398 |               32 |
|  42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        447 |            155 |           282 |          2816 | 2.35036e+07 |          2776 |               40 |
|  74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1535 |            109 |           826 |          5800 | 1.7212e+07  |          5753 |               47 |
|  81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2664 |            389 |          1504 |         13643 | 1.57804e+07 |         13547 |               96 |
|  12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2865 |            390 |          1131 |          9962 | 1.55369e+07 |          9859 |              103 |
|  82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1718 |            404 |          1052 |          6010 | 1.78641e+07 |          5902 |              108 |
|  71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1745 |            284 |          1121 |          7260 | 1.74963e+07 |          7140 |              120 |
|  20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2079 |            326 |           943 |          6692 | 1.7763e+07  |          6569 |              123 |
|  59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1700 |            211 |           828 |          7617 | 1.74629e+07 |          7490 |              127 |
|  73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2373 |            479 |          1075 |         10778 | 1.66265e+07 |         10615 |              163 |
|  44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2085 |            343 |          1295 |         10527 | 1.59297e+07 |         10234 |              293 |
|  18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2938 |            319 |          1493 |         10624 | 1.53099e+07 |         10290 |              334 |
|   9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2510 |            406 |          1154 |         10605 | 1.67833e+07 |         10145 |              460 |
|  56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1982 |            485 |          1173 |         11118 | 1.68994e+07 |         10348 |              770 |
|  60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2555 |            602 |          1121 |          8456 | 1.68192e+07 |          7676 |              780 |
|  49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2349 |            590 |          1447 |          9452 | 1.63057e+07 |          8665 |              787 |
|  13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1905 |            469 |          1281 |          9336 | 1.76608e+07 |          8523 |              813 |
|  83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2555 |            256 |          1614 |         10036 | 1.5365e+07  |          9223 |              813 |
|  85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2695 |            371 |          1631 |         13658 | 1.45352e+07 |         12731 |              927 |
|  76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3070 |            564 |          1262 |          8937 | 1.56899e+07 |          7975 |              962 |
|   4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2717 |            351 |          1248 |          9346 | 1.4806e+07  |          8382 |              964 |
|  31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3701 |            299 |          1607 |         12910 | 1.45429e+07 |         11942 |              968 |
|  95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3044 |            516 |          1198 |         10240 | 1.57072e+07 |          9150 |             1090 |
|  43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3489 |            317 |          1164 |         12162 | 1.35196e+07 |         11005 |             1157 |
|  52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2671 |            625 |          1576 |         12072 | 1.55579e+07 |         10906 |             1166 |
|   5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2763 |            625 |          1509 |         12025 | 1.41939e+07 |         10859 |             1166 |
|  35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3367 |            360 |          1457 |         10786 | 1.47952e+07 |          9604 |             1182 |
|  94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2394 |            840 |          1862 |         10400 | 1.47262e+07 |          9180 |             1220 |
|  55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2615 |            429 |          1213 |         12475 | 1.6665e+07  |         11143 |             1332 |
|  92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3713 |            490 |          1917 |         12160 | 1.3999e+07  |         10430 |             1730 |
|  75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2481 |            747 |          1812 |         14788 | 1.54277e+07 |         13020 |             1768 |
|   7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2915 |            564 |          1813 |         13358 | 1.49315e+07 |         11527 |             1831 |
|  88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2771 |            531 |          1846 |         14647 | 1.47323e+07 |         12746 |             1901 |
|  96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2978 |            565 |          1885 |         12990 | 1.41249e+07 |         10970 |             2020 |
|  25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3045 |            700 |          1775 |         13210 | 1.37827e+07 |         10995 |             2215 |
|  27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4285 |            461 |          1578 |         12365 | 1.33556e+07 |         10133 |             2232 |
|  87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4429 |            361 |          1561 |         13359 | 1.37254e+07 |         10934 |             2425 |
|  48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4898 |            531 |          2023 |         16520 | 1.2544e+07  |         13301 |             3219 |
|  97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       3116 |            868 |          2220 |         18058 | 1.51063e+07 |         14076 |             3982 |
|  53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4920 |            669 |          2223 |         14330 | 1.24968e+07 |          9771 |             4559 |
|  36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4967 |            428 |          2517 |         16424 | 1.25166e+07 |         11690 |             4734 |
|  91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4623 |            387 |          2459 |         16484 | 1.2025e+07  |         11559 |             4925 |
|   3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6390 |            592 |          3018 |         20974 | 1.03518e+07 |         13676 |             7298 |
|  63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4363 |            914 |          3095 |         23808 | 1.26998e+07 |         16422 |             7386 |

</details>

### 2018年  6月  9日 土曜日 17:10:52 JST

差分更新最終版: [7a4e3e979f6f912ef4994328f4b7b15aa3226c25](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/7a4e3e979f6f912ef4994328f4b7b15aa3226c25)

鏡や障害物がなぜか全然使われなかった問題の原因は、光線の通ってる上にはなにも置かないようにしてしまってたから: [commit](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/1cb755ef15b9b68e4a3697dbc59f76f1fcbf764f)。
あと1マスだけでなくて複数マス同時にずらすやつ: [commit](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/7a4e3e979f6f912ef4994328f4b7b15aa3226c25)。

提出結果は15位。 差分更新前 610648.15 -> 748750.00 と上昇で人権感でてきた。
予想 rating = 2216.56 / delta = 21.56 で赤期待。

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.7a4e3e979f6f912ef4994328f4b7b15aa3226c25.png?token=ACGd-KBY0aPlT28gHrc0crrTqt-S4r-fks5bJMdcwA%3D%3D)

<details>
<summary>score表 7a4e3e979f6f912ef4994328f4b7b15aa3226c25</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   addedLanterns |   addedMirrors |   addedObstacles |   primaryOk |   secondaryOk |   incorrect |   rawScore |   iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-----------------|----------------|------------------|-------------|---------------|-------------|------------|-------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         31 |             24 |            45 |              19 |              3 |                0 |          10 |             8 |           2 |        364 | 2.27577e+07 |   9.50001 |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1891 |            316 |           818 |             311 |             11 |               28 |         223 |           195 |          42 |       7687 | 1.0246e+07  |   9.50002 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6167 |            619 |          3214 |             989 |            235 |               27 |         814 |           753 |         253 |      26327 | 8.87129e+06 |   9.50242 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2705 |            364 |          1247 |             440 |             21 |               13 |         309 |           321 |          90 |      10940 | 9.31654e+06 |   9.50004 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2668 |            662 |          1567 |             548 |             61 |               37 |         427 |           334 |          84 |      13952 | 1.13278e+07 |   9.50003 |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        622 |            190 |           412 |             149 |              4 |               14 |         109 |            84 |          29 |       3674 | 1.30815e+07 |   9.50001 |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2848 |            588 |          1856 |             616 |             55 |               24 |         471 |           408 |         165 |      15845 | 1.07369e+07 |   9.50002 |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        898 |            164 |           408 |             147 |             17 |                3 |         107 |            91 |          23 |       3674 | 1.04681e+07 |   9.50002 |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2448 |            420 |          1202 |             421 |             57 |               14 |         322 |           271 |          72 |      12455 | 9.91482e+06 |   9.50002 |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2028 |            331 |          1085 |             383 |             46 |               14 |         280 |           263 |          64 |      11088 | 1.01238e+07 |   9.50002 |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        581 |            139 |           384 |             118 |             22 |                0 |         112 |            77 |          23 |       2950 | 1.15531e+07 |   9.50761 |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2802 |            425 |          1159 |             428 |             26 |               35 |         307 |           283 |          57 |      12055 | 9.91909e+06 |   9.50002 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1863 |            489 |          1303 |             437 |             34 |               20 |         325 |           284 |          90 |      10484 | 1.14212e+07 |   9.50002 |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        197 |             33 |           122 |              44 |              3 |                1 |          33 |            29 |           8 |       1238 | 1.21461e+07 |   9.50002 |
|     15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        815 |            146 |           331 |             119 |             21 |                3 |          91 |            76 |          10 |       3124 | 1.03759e+07 |   9.50001 |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1534 |            274 |           727 |             261 |             13 |                9 |         199 |           164 |          48 |       5541 | 1.0241e+07  |   9.50002 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        711 |            220 |           314 |             130 |              3 |                3 |          93 |            62 |          12 |       2981 | 1.25153e+07 |   9.50001 |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2890 |            333 |          1527 |             509 |             38 |               15 |         402 |           349 |         143 |      13138 | 9.87926e+06 |   9.50002 |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        470 |             54 |           226 |              81 |              4 |                7 |          59 |            55 |          11 |       2465 | 1.11928e+07 |   9.50277 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2043 |            337 |           968 |             337 |             29 |               11 |         251 |           219 |          66 |       7783 | 1.00003e+07 |   9.50001 |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2111 |            268 |          1393 |             445 |             34 |               27 |         371 |           303 |         142 |      12674 | 8.21307e+06 |   9.50002 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1607 |            207 |          1102 |             351 |             41 |               14 |         271 |           252 |         118 |       8184 | 7.69012e+06 |   9.50661 |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        628 |            147 |           415 |             152 |              6 |                9 |         101 |           101 |          24 |       4272 | 9.13864e+06 |   9.50002 |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        883 |            121 |           376 |             139 |              7 |               11 |          92 |            94 |          16 |       3221 | 7.44062e+06 |   9.50001 |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       2983 |            727 |          1810 |             632 |             47 |               27 |         444 |           407 |         139 |      15209 | 7.87437e+06 |   9.50115 |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1026 |            177 |           645 |             206 |             48 |                6 |         168 |           138 |          33 |       4720 | 8.09359e+06 |   9.50645 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4238 |            481 |          1605 |             558 |             44 |               20 |         430 |           389 |          88 |      13980 | 6.38621e+06 |   9.50002 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        759 |             65 |           376 |             125 |             16 |                2 |          89 |            95 |          34 |       3068 | 7.24214e+06 |   9.50082 |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        231 |             35 |           142 |              46 |              2 |                1 |          39 |            28 |          15 |        946 | 1.05092e+07 |   9.50002 |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        913 |            220 |           531 |             198 |              5 |               12 |         127 |           119 |          43 |       4805 | 9.93508e+06 |   9.50001 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3606 |            322 |          1679 |             537 |             89 |               23 |         463 |           390 |         115 |      15319 | 7.8545e+06  |   9.50002 |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        372 |            124 |           264 |              88 |              5 |               10 |          68 |            53 |          14 |       1936 | 1.24232e+07 |   9.50002 |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        973 |            298 |           759 |             253 |             13 |                8 |         193 |           149 |          72 |       5875 | 1.2184e+07  |   9.50002 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1358 |            115 |           639 |             216 |             12 |               12 |         173 |           149 |          57 |       5716 | 8.76553e+06 |   9.50003 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3303 |            366 |          1515 |             515 |             55 |                6 |         383 |           379 |         101 |      13127 | 8.41013e+06 |   9.50006 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4853 |            458 |          2601 |             823 |             95 |               31 |         655 |           616 |         245 |      19963 | 8.52207e+06 |   9.50004 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1256 |            339 |           925 |             311 |             43 |                3 |         234 |           200 |          70 |       7356 | 1.1664e+07  |   9.50002 |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        315 |             50 |           167 |              58 |             10 |                1 |          45 |            38 |           4 |       1744 | 1.15633e+07 |   9.50001 |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        383 |            127 |           306 |             113 |             12 |                3 |          80 |            63 |          16 |       2129 | 1.37812e+07 |   9.50001 |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        389 |             45 |           186 |              67 |              1 |                1 |          43 |            44 |          17 |       1496 | 1.1251e+07  |   9.50001 |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1736 |            406 |           846 |             321 |             22 |               13 |         226 |           199 |          40 |       8126 | 1.065e+07   |   9.50002 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        440 |            159 |           285 |             112 |              4 |                5 |          69 |            66 |           7 |       3035 | 1.24783e+07 |   9.50002 |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3465 |            325 |          1180 |             418 |             37 |                8 |         307 |           311 |          57 |      13706 | 8.39511e+06 |   9.50002 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2023 |            376 |          1324 |             441 |             29 |               33 |         345 |           294 |         105 |      12789 | 1.04627e+07 |   9.50002 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2037 |            293 |           907 |             321 |             24 |               10 |         221 |           231 |          58 |       7548 | 8.86873e+06 |   9.50002 |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1680 |            474 |          1246 |             429 |             44 |               11 |         295 |           280 |         106 |       9225 | 1.07218e+07 |   9.50004 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        202 |             49 |           155 |              51 |              4 |                1 |          40 |            33 |          11 |       1193 | 1.0966e+07  |   9.50001 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4785 |            557 |          2110 |             706 |             91 |               26 |         575 |           511 |         126 |      19752 | 7.8469e+06  |   9.50002 |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2335 |            601 |          1450 |             514 |             16 |               16 |         350 |           337 |         120 |      10788 | 1.07951e+07 |   9.50339 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        891 |            259 |           610 |             199 |             29 |                4 |         148 |           127 |          47 |       4113 | 1.18558e+07 |   9.50001 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1078 |            185 |           715 |             237 |             14 |                1 |         186 |           151 |          75 |       5196 | 1.0239e+07  |   9.50228 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2589 |            656 |          1627 |             574 |             39 |               32 |         431 |           335 |         127 |      14394 | 1.01257e+07 |   9.50002 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4825 |            689 |          2298 |             742 |             80 |               20 |         623 |           522 |         135 |      17350 | 7.03074e+06 |   9.50006 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2027 |            271 |           941 |             321 |             32 |                9 |         244 |           227 |          59 |       7409 | 7.86923e+06 |   9.50003 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2548 |            449 |          1260 |             468 |             44 |               20 |         311 |           318 |          56 |      13860 | 7.83522e+06 |   9.50004 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1936 |            499 |          1205 |             436 |             28 |               14 |         317 |           261 |          79 |      12426 | 8.54326e+06 |   9.50464 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1176 |            386 |           903 |             309 |             24 |                4 |         215 |           194 |          74 |       7901 | 8.98608e+06 |   9.50002 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        398 |             38 |           202 |              66 |              7 |                1 |          61 |            43 |          14 |       1620 | 8.35758e+06 |   9.50006 |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1677 |            218 |           844 |             289 |             28 |                7 |         221 |           206 |          53 |       8384 | 6.93926e+06 |   9.50002 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2544 |            602 |          1132 |             421 |             28 |                0 |         299 |           263 |          55 |       9280 | 8.46836e+06 |   9.50002 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1731 |            280 |           719 |             267 |             19 |               10 |         184 |           184 |          27 |       5921 | 7.80092e+06 |   9.50001 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        426 |            114 |           292 |             106 |              2 |               10 |          68 |            62 |          13 |       2752 | 1.0293e+07  |   9.50001 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4202 |            958 |          3212 |            1043 |            128 |               44 |         829 |           704 |         286 |      28707 | 8.49836e+06 |   9.50003 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1860 |            307 |           982 |             345 |             21 |               26 |         245 |           232 |          61 |       7793 | 8.53525e+06 |   9.50002 |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1734 |            169 |           697 |             251 |             18 |               17 |         174 |           182 |          43 |       7204 | 8.02762e+06 |   9.50002 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        712 |            160 |           360 |             138 |              4 |                7 |          91 |            80 |          21 |       3118 | 1.03739e+07 |   9.50002 |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1646 |            440 |           950 |             341 |             41 |               31 |         257 |           206 |          31 |       7337 | 1.0933e+07  |   9.50002 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        797 |            151 |           326 |             120 |             15 |                3 |          87 |            72 |          11 |       2914 | 1.0609e+07  |   9.50001 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        928 |            331 |           813 |             273 |             18 |                4 |         186 |           170 |          83 |       6141 | 1.27479e+07 |   9.50001 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1230 |            160 |           710 |             241 |             13 |               14 |         188 |           161 |          67 |       6723 | 9.6871e+06  |   9.50005 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1728 |            304 |          1118 |             377 |              0 |               20 |         280 |           254 |         104 |       8507 | 1.02903e+07 |   9.50002 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        663 |             67 |           358 |             116 |              7 |                2 |          93 |            85 |          26 |       3118 | 1.01821e+07 |   9.50474 |
|     73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2308 |            482 |          1137 |             410 |             74 |                3 |         301 |           255 |          43 |      12406 | 7.7303e+06  |   9.50002 |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1503 |            118 |           849 |             278 |             15 |                9 |         213 |           194 |          94 |       6861 | 7.22911e+06 |   9.50001 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2410 |            768 |          1862 |             646 |             40 |               21 |         458 |           374 |         187 |      16810 | 9.10388e+06 |   9.50002 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3072 |            580 |          1244 |             471 |              8 |               16 |         324 |           286 |          65 |       9787 | 8.22387e+06 |   9.50005 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        341 |            104 |           193 |              72 |              3 |                0 |          45 |            42 |          11 |       1255 | 1.09736e+07 |   9.50001 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        544 |            159 |           447 |             149 |             23 |                0 |         112 |            95 |          31 |       4332 | 1.18536e+07 |   9.50001 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        533 |            158 |           244 |              96 |              2 |                2 |          68 |            50 |          12 |       2006 | 1.13173e+07 |   9.50001 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        967 |            205 |           349 |             142 |              4 |                1 |          98 |            77 |          11 |       2698 | 9.96343e+06 |   9.50001 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2562 |            392 |          1603 |             517 |             99 |                3 |         441 |           349 |         117 |      16661 | 9.29823e+06 |   9.50002 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1666 |            416 |          1092 |             348 |             40 |               12 |         308 |           210 |          79 |       7234 | 1.10679e+07 |   9.50002 |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2499 |            283 |          1643 |             509 |             26 |               27 |         436 |           345 |         187 |      11982 | 9.66275e+06 |   9.50006 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1718 |            223 |           871 |             277 |             58 |               30 |         235 |           201 |          29 |       7103 | 9.69515e+06 |   9.50002 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2585 |            391 |          1721 |             563 |             81 |               20 |         451 |           381 |         149 |      16080 | 9.45799e+06 |   9.50002 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1271 |            118 |           591 |             213 |              5 |               12 |         121 |           174 |          43 |       5353 | 9.1984e+06  |   9.50085 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4374 |            391 |          1586 |             558 |             36 |               30 |         409 |           402 |         104 |      15474 | 8.1606e+06  |   9.50002 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2627 |            607 |          1914 |             660 |             39 |               76 |         509 |           411 |         146 |      17676 | 1.09171e+07 |   9.50002 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        819 |             94 |           403 |             138 |             21 |                1 |         112 |            87 |          25 |       3052 | 9.30623e+06 |   9.50001 |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        476 |             41 |           299 |              98 |              7 |                7 |          81 |            69 |          27 |       2573 | 9.71097e+06 |   9.50003 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4503 |            452 |          2514 |             820 |             46 |               65 |         591 |           637 |         243 |      20105 | 8.85132e+06 |   9.50002 |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3528 |            562 |          2030 |             641 |             90 |               72 |         549 |           443 |         115 |      15126 | 9.51049e+06 |   9.50002 |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1405 |            137 |           801 |             271 |              3 |                7 |         189 |           189 |          91 |       7360 | 9.37465e+06 |   9.50002 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2302 |            851 |          1943 |             607 |             89 |               11 |         490 |           391 |         127 |      12612 | 1.17121e+07 |   9.50002 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       2968 |            535 |          1255 |             462 |             60 |               19 |         316 |           318 |          40 |      11772 | 9.41036e+06 |   9.50003 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2935 |            594 |          1899 |             661 |              3 |               29 |         474 |           412 |         203 |      15254 | 1.03796e+07 |   9.50002 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       2979 |            877 |          2348 |             752 |            142 |                9 |         618 |           457 |         184 |      21144 | 1.19059e+07 |   9.50002 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        689 |            112 |           339 |             120 |             15 |                5 |         101 |            69 |          16 |       2685 | 1.1215e+07  |   9.50002 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1296 |            281 |           532 |             208 |              9 |                3 |         151 |           122 |          15 |       5132 | 1.17605e+07 |   9.50001 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        477 |             48 |           219 |              80 |              7 |                4 |          50 |            60 |          13 |       1950 | 1.14516e+07 |   9.50001 |

</details>

<details>
<summary>順位表 7a4e3e979f6f912ef4994328f4b7b15aa3226c25</summary>

| Handle          | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|-----------------|------------|-------|--------------------------|-----------|----------------|--------------|
| eldidou         | 972857.14  | 1     | 06.08.2018 19:47:31 EST  | C++       | 4              | 3            |
| CatalinT        | 969464.29  | 2     | 06.09.2018 04:04:54 EST  | C++       | 6              | 7            |
| kurenai3110     | 963482.14  | 3     | 06.08.2018 12:27:28 EST  | C++       | 1              | 1            |
| Psyho           | 947142.86  | 4     | 06.09.2018 01:14:34 EST  | C++       | 2              | 6            |
| tourist         | 940892.86  | 5     | 06.09.2018 03:58:47 EST  | C++       | 17             | 9            |
| gorbunov        | 910803.57  | 6     | 06.09.2018 04:01:35 EST  | C++       | 5              | 4            |
| PaulJefferys    | 874375.00  | 7     | 06.08.2018 18:02:26 EST  | C++       | 3              | 2            |
| nika            | 842232.14  | 8     | 06.08.2018 11:29:50 EST  | C++       | 2              | 4            |
| kosakkun        | 837857.14  | 9     | 06.09.2018 02:55:41 EST  | C++       | 5              | 3            |
| marek.cygan     | 817589.29  | 10    | 06.09.2018 01:22:47 EST  | C++       | 8              | 8            |
| JacoCronje      | 815892.86  | 11    | 06.08.2018 16:38:54 EST  | C++       | 8              | 7            |
| EvbCFfp1XB      | 805267.86  | 12    | 06.08.2018 06:34:33 EST  | Java      | 1              | 1            |
| skrzypl1        | 794285.71  | 13    | 06.08.2018 14:05:56 EST  | C#        | 3              | 3            |
| yuya178         | 751607.14  | 14    | 06.08.2018 13:08:48 EST  | Java      | 13             | 6            |
| kimiyuki        | 748750.00  | 15    | 06.09.2018 04:09:51 EST  | C++       | 5              | 6            |
| RafbillFr       | 741875.00  | 16    | 06.09.2018 03:48:52 EST  | C++       | 6              | 6            |
| chokudai        | 741339.29  | 17    | 06.08.2018 21:31:31 EST  | C++       | 6              | 3            |
| mhora           | 704732.14  | 18    | 06.08.2018 23:27:00 EST  | C++       | 8              | 7            |
| H_a_s_h         | 691785.71  | 19    | 06.07.2018 13:54:11 EST  | C++       | 1              | 1            |
| sdya            | 676875.00  | 20    | 06.08.2018 23:09:44 EST  | C++       | 4              | 4            |
| krismaz         | 645714.29  | 21    | 06.08.2018 18:39:18 EST  | C++       | 3              | 3            |
| imazato         | 622767.86  | 22    | 06.09.2018 00:04:23 EST  | C++       | 3              | 3            |
| yowa            | 615089.29  | 23    | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| hoshi524        | 575714.29  | 24    | 06.08.2018 22:12:54 EST  | C++       | 1              | 1            |
| mugurelionut    | 560357.14  | 25    | 06.08.2018 18:57:16 EST  | C++       | 4              | 2            |
| eris_c          | 531696.43  | 26    | 06.09.2018 01:33:51 EST  | C++       | 3              | 3            |
| fetetriste      | 519017.86  | 27    | 06.09.2018 01:29:14 EST  | Java      | 7              | 6            |
| okazaki         | 514196.43  | 28    | 06.09.2018 02:26:52 EST  | Java      | 2              | 7            |
| iwashi31        | 506250.00  | 29    | 06.08.2018 07:07:25 EST  | C++       | 0              | 2            |
| kyuridenamida   | 489642.86  | 30    | 06.08.2018 20:21:46 EST  | C++       | 3              | 2            |
| windhunterSB    | 473214.29  | 31    | 06.09.2018 02:21:10 EST  | C++       | 9              | 6            |
| kt_tenel        | 445535.71  | 32    | 06.08.2018 13:52:23 EST  | C++       | 4              | 2            |
| sas4eka         | 418303.57  | 33    | 06.08.2018 19:13:03 EST  | C++       | 8              | 7            |
| NobuMiu         | 416517.86  | 34    | 06.09.2018 02:24:23 EST  | C++       | 3              | 2            |
| tanzaku         | 413035.71  | 35    | 06.09.2018 02:40:59 EST  | Java      | 2              | 2            |
| spagiarri       | 389285.71  | 36    | 06.09.2018 04:03:50 EST  | C++       | 6              | 6            |
| ktuan           | 375803.57  | 37    | 06.08.2018 03:51:50 EST  | C++       | 3              | 3            |
| my316g          | 321607.14  | 38    | 06.09.2018 03:19:37 EST  | C++       | 2              | 2            |
| senya0126       | 312500.00  | 39    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| Hohol           | 305714.29  | 40    | 06.08.2018 16:59:39 EST  | Java      | 0              | 5            |
| luvtechno       | 288660.71  | 41    | 06.09.2018 02:35:02 EST  | Java      | 4              | 4            |
| danbanica       | 287410.71  | 42    | 06.09.2018 03:23:58 EST  | C++       | 1              | 1            |
| kotamanegi      | 231875.00  | 43    | 06.08.2018 22:21:16 EST  | C++       | 1              | 1            |
| daisyo          | 225535.71  | 44    | 06.09.2018 03:03:12 EST  | C++       | 1              | 1            |
| y_kawano        | 223571.43  | 45    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| AAAAAnt         | 200982.14  | 46    | 06.08.2018 14:39:23 EST  | Java      | 1              | 2            |
| PikokoLoko      | 183571.43  | 47    | 06.08.2018 11:44:00 EST  | Java      | 1              | 1            |
| robjermy        | 175357.14  | 48    | 06.08.2018 15:01:05 EST  | C++       | 1              | 1            |
| gurualo         | 153750.00  | 49    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| moshu           | 123214.29  | 50    | 06.08.2018 13:02:05 EST  | C++       | 2              | 2            |
| ceni1055        | 81607.14   | 51    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id              | 5357.14    | 52    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd           | 5357.14    | 52    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON        | 5357.14    | 52    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| gchebanov       | 2857.14    | 55    | 06.08.2018 15:15:20 EST  | C++       | 0              | 1            |
| jml04           | 0.00       | 56    | 06.08.2018 05:58:01 EST  | Java      | 1              | 1            |
| USERHACKER      | 0.00       | 56    | 06.08.2018 16:46:03 EST  | C++       | 1              | 2            |
| keymoon         | -          | -     | -                        | -         | 1              | 0            |
| southpolenator  | -          | -     | -                        | -         | 2              | 0            |
| sumoru          | -          | -     | -                        | -         | 1              | 0            |

</details>

### 2018年  6月  9日 土曜日 18:05:50 JST

光線の通る面積を減らすように: [9d4969ddf444d7e00e02e2f7df1c72a1888d1c11](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/9d4969ddf444d7e00e02e2f7df1c72a1888d1c11)

微増。

### 2018年  6月  9日 土曜日 18:40:08 JST

次にすること:

-   収束先の確認
-   挙げた案の実装

これまでに挙げた案として:

-   マス間の依存関係のグラフ
-   光源ふたつの色の交換による近傍
-   区分的に解いてあとで繋ぐ
-   Boltzmann定数の調整
-   評価関数の調整 振動させるとかも
-   干渉や関係する設置物を除去する近傍
-   光が不足のみでなくて余分な場合も加点
-   局所性を根拠にしたheuristics

案として新たに加えて:

-   過剰な数の鏡や障害物を許容する
-   鏡や障害物のなかで最も役に立ってないものを削除する近傍
-   光源に光が当たるのを許容する

他に:

-   パラメタ自動調整の実用
-   計算資源投入はいつか

### 2018年  6月  9日 土曜日 19:21:16 JST

時間10倍にするやつ。
乱数の都合か悪化してるものが見られる。
火力が足りてない可能性がある。

<details>
<summary>比較表 1. 9d4969ddf444d7e00e02e2f7df1c72a1888d1c11 (100 sec) vs 2. 9d4969ddf444d7e00e02e2f7df1c72a1888d1c11 (10 sec)</summary>

|     |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   rawScore1 |   rawScore2 |   rawScoreDiff |
|-----|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-------------|-------------|----------------|
|  27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4236 |            482 |          1606 |       14035 |       14260 |           -225 |
|  11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        575 |            140 |           389 |        2870 |        3015 |           -145 |
|  69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        917 |            333 |           822 |        6181 |        6321 |           -140 |
|  33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        969 |            298 |           763 |        5881 |        5991 |           -110 |
|  97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       2976 |            878 |          2350 |       21332 |       21438 |           -106 |
|  18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2892 |            333 |          1525 |       13142 |       13242 |           -100 |
|  60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2554 |            602 |          1122 |        9292 |        9358 |            -66 |
|  48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4784 |            555 |          2113 |       19983 |       20048 |            -65 |
|  89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        826 |             94 |           396 |        3255 |        3309 |            -54 |
|  14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        195 |             34 |           123 |        1246 |        1298 |            -52 |
|  58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        397 |             38 |           203 |        1680 |        1730 |            -50 |
|  66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        712 |            160 |           360 |        2998 |        3040 |            -42 |
|  45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2038 |            293 |           906 |        7656 |        7694 |            -38 |
|  23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        633 |            147 |           410 |        4357 |        4392 |            -35 |
|   6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        622 |            190 |           412 |        3662 |        3694 |            -32 |
|  12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2794 |            425 |          1167 |       12081 |       12111 |            -30 |
|  46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1677 |            480 |          1243 |        9411 |        9437 |            -26 |
|  38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        317 |             50 |           165 |        1787 |        1812 |            -25 |
|  24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        872 |            122 |           386 |        3228 |        3246 |            -18 |
|  59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1679 |            218 |           842 |        8520 |        8524 |             -4 |
|  75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2398 |            768 |          1874 |       17276 |       17280 |             -4 |
|  47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        202 |             49 |           155 |        1176 |        1171 |              5 |
|  42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        438 |            161 |           285 |        2993 |        2987 |              6 |
|   1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         34 |             24 |            42 |         380 |         368 |             12 |
|  85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2598 |            390 |          1709 |       16181 |       16168 |             13 |
|  26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1038 |            175 |           635 |        4814 |        4800 |             14 |
|  77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        346 |            104 |           188 |        1295 |        1270 |             25 |
|  39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        390 |            127 |           299 |        2163 |        2135 |             28 |
|  57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1177 |            386 |           902 |        8094 |        8065 |             29 |
|  29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        232 |             35 |           141 |        1036 |        1006 |             30 |
|   8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        892 |            168 |           410 |        3808 |        3769 |             39 |
|  62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        428 |            114 |           290 |        2746 |        2694 |             52 |
|  68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        796 |            149 |           329 |        2950 |        2897 |             53 |
|  99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1300 |            281 |           528 |        5116 |        5062 |             54 |
| 100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        477 |             46 |           221 |        2038 |        1984 |             54 |
|  50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        885 |            261 |           614 |        4468 |        4411 |             57 |
|  15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        816 |            146 |           330 |        3060 |        3003 |             57 |
|  32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        366 |            124 |           270 |        1990 |        1930 |             60 |
|  87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4358 |            391 |          1602 |       15504 |       15439 |             65 |
|  17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        707 |            218 |           320 |        3049 |        2982 |             67 |
|  64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1853 |            307 |           989 |        7989 |        7918 |             71 |
|  76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3073 |            580 |          1243 |       10086 |       10014 |             72 |
|  79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        532 |            158 |           245 |        2069 |        1997 |             72 |
|  90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        482 |             41 |           293 |        2709 |        2637 |             72 |
|  16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1543 |            274 |           718 |        5622 |        5548 |             74 |
|  40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        389 |             45 |           186 |        1606 |        1530 |             76 |
|  72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        659 |             67 |           362 |        3142 |        3065 |             77 |
|  93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1402 |            137 |           804 |        7458 |        7378 |             80 |
|  86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1285 |            113 |           582 |        5336 |        5253 |             83 |
|  80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        979 |            206 |           336 |        2754 |        2664 |             90 |
|  37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1254 |            339 |           927 |        7372 |        7276 |             96 |
|  88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2623 |            607 |          1918 |       17915 |       17818 |             97 |
|  51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1068 |            185 |           725 |        5226 |        5126 |            100 |
|  41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1739 |            406 |           843 |        8195 |        8088 |            107 |
|  53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4801 |            690 |          2321 |       17511 |       17404 |            107 |
|  91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4518 |            452 |          2499 |       20033 |       19917 |            116 |
|  31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3596 |            322 |          1689 |       15829 |       15711 |            118 |
|  83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2502 |            285 |          1638 |       11921 |       11799 |            122 |
|  61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1737 |            279 |           714 |        6001 |        5878 |            123 |
|  52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2596 |            664 |          1612 |       14434 |       14302 |            132 |
|   5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2665 |            662 |          1570 |       14277 |       14137 |            140 |
|  98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        688 |            112 |           340 |        2861 |        2721 |            140 |
|  35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3305 |            366 |          1513 |       13106 |       12956 |            150 |
|   4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2685 |            364 |          1267 |       11120 |       10967 |            153 |
|  82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1645 |            414 |          1115 |        7490 |        7336 |            154 |
|  96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2928 |            601 |          1899 |       15461 |       15305 |            156 |
|  34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1354 |            116 |           642 |        5945 |        5784 |            161 |
|  74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1509 |            118 |           843 |        6993 |        6826 |            167 |
|  22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1615 |            207 |          1094 |        8458 |        8290 |            168 |
|  19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        460 |             54 |           236 |        2605 |        2437 |            168 |
|   7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2831 |            588 |          1873 |       16371 |       16200 |            171 |
|   2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1892 |            316 |           817 |        8103 |        7927 |            176 |
|  28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        761 |             65 |           374 |        3174 |        2986 |            188 |
|  71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1712 |            310 |          1128 |        8503 |        8287 |            216 |
|  65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1737 |            169 |           694 |        7648 |        7431 |            217 |
|  30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        908 |            220 |           536 |        5015 |        4797 |            218 |
|  10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2018 |            337 |          1089 |       11688 |       11442 |            246 |
|  54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2018 |            273 |           948 |        7788 |        7540 |            248 |
|  70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1243 |            154 |           703 |        6908 |        6641 |            267 |
|  13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1836 |            483 |          1336 |       10896 |       10624 |            272 |
|  49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2332 |            601 |          1453 |       11181 |       10904 |            277 |
|  92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3522 |            562 |          2036 |       15396 |       15106 |            290 |
|  25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       2953 |            737 |          1830 |       15676 |       15377 |            299 |
|  81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2568 |            392 |          1597 |       16857 |       16549 |            308 |
|  21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2109 |            264 |          1399 |       12914 |       12592 |            322 |
|  63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4172 |            958 |          3242 |       29491 |       29168 |            323 |
|  73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2309 |            486 |          1132 |       12769 |       12446 |            323 |
|  78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        548 |            160 |           442 |        4498 |        4173 |            325 |
|  20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2025 |            345 |           978 |        8117 |        7777 |            340 |
|   9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2434 |            425 |          1211 |       13072 |       12716 |            356 |
|  95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       2974 |            535 |          1249 |       12328 |       11956 |            372 |
|  55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2530 |            449 |          1278 |       14115 |       13742 |            373 |
|  67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1642 |            440 |           954 |        7544 |        7130 |            414 |
|  43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3440 |            333 |          1197 |       14246 |       13675 |            571 |
|  94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2284 |            846 |          1966 |       12834 |       12258 |            576 |
|  84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1715 |            223 |           874 |        7594 |        6937 |            657 |
|  56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1927 |            497 |          1216 |       12675 |       11937 |            738 |
|  44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2014 |            376 |          1333 |       13312 |       12571 |            741 |
|   3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6153 |            619 |          3228 |       26919 |       25940 |            979 |
|  36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4830 |            468 |          2614 |       20656 |       19644 |           1012 |

</details>


### 2018年  6月  9日 土曜日 19:30:35 JST

提出。 
順位が変わらない程度に微増した。 18位では predicted rating = 2199.56 らしい。 やはりこの辺りが人権ライン。

<details>
<summary>順位表 7d896e198383248b4ae6f113a42990f6c84e590d</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| eldidou          | 972155.17  | 1     | 06.08.2018 19:47:31 EST  | C++       | 4              | 3            |
| CatalinT         | 968706.90  | 2     | 06.09.2018 04:04:54 EST  | C++       | 6              | 7            |
| kurenai3110      | 961637.93  | 3     | 06.08.2018 12:27:28 EST  | C++       | 1              | 1            |
| Psyho            | 943620.69  | 4     | 06.09.2018 01:14:34 EST  | C++       | 2              | 6            |
| tourist          | 938362.07  | 5     | 06.09.2018 03:58:47 EST  | C++       | 17             | 9            |
| atsT5515         | 911724.14  | 6     | 06.09.2018 06:10:29 EST  | C++       | 1              | 1            |
| gorbunov         | 900431.03  | 7     | 06.09.2018 04:01:35 EST  | C++       | 7              | 4            |
| PaulJefferys     | 857931.03  | 8     | 06.08.2018 18:02:26 EST  | C++       | 3              | 2            |
| nika             | 824224.14  | 9     | 06.08.2018 11:29:50 EST  | C++       | 2              | 4            |
| kosakkun         | 819137.93  | 10    | 06.09.2018 02:55:41 EST  | C++       | 5              | 3            |
| H_a_s_h          | 817413.79  | 11    | 06.09.2018 06:12:48 EST  | C++       | 2              | 2            |
| marek.cygan      | 797844.83  | 12    | 06.09.2018 01:22:47 EST  | C++       | 8              | 8            |
| JacoCronje       | 793534.48  | 13    | 06.08.2018 16:38:54 EST  | C++       | 8              | 7            |
| EvbCFfp1XB       | 782672.41  | 14    | 06.08.2018 06:34:33 EST  | Java      | 1              | 1            |
| skrzypl1         | 766293.10  | 15    | 06.08.2018 14:05:56 EST  | C#        | 3              | 3            |
| yuya178          | 751379.31  | 16    | 06.09.2018 06:27:22 EST  | Java      | 16             | 7            |
|  RafbillFr       | 726293.10  | 17    | 06.09.2018 06:31:00 EST  | C++       | 8              | 7            |
| kimiyuki         | 723620.69  | 18    | 06.09.2018 06:29:30 EST  | C++       | 6              | 7            |
| chokudai         | 713103.45  | 19    | 06.08.2018 21:31:31 EST  | C++       | 6              | 3            |
| mhora            | 689310.34  | 20    | 06.08.2018 23:27:00 EST  | C++       | 8              | 7            |
| sdya             | 662500.00  | 21    | 06.08.2018 23:09:44 EST  | C++       | 4              | 4            |
| krismaz          | 635862.07  | 22    | 06.08.2018 18:39:18 EST  | C++       | 3              | 3            |
| imazato          | 613103.45  | 23    | 06.09.2018 00:04:23 EST  | C++       | 3              | 3            |
| yowa             | 605862.07  | 24    | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| okazaki          | 574568.97  | 25    | 06.09.2018 05:24:24 EST  | Java      | 3              | 8            |
| hoshi524         | 562672.41  | 26    | 06.08.2018 22:12:54 EST  | C++       | 1              | 1            |
| mugurelionut     | 549224.14  | 27    | 06.08.2018 18:57:16 EST  | C++       | 4              | 2            |
| eris_c           | 525344.83  | 28    | 06.09.2018 06:07:58 EST  | C++       | 3              | 4            |
| fetetriste       | 509396.55  | 29    | 06.09.2018 01:29:14 EST  | Java      | 7              | 6            |
| iwashi31         | 498275.86  | 30    | 06.08.2018 07:07:25 EST  | C++       | 0              | 2            |
| kyuridenamida    | 482586.21  | 31    | 06.08.2018 20:21:46 EST  | C++       | 3              | 2            |
| windhunterSB     | 469396.55  | 32    | 06.09.2018 05:53:50 EST  | C++       | 10             | 7            |
| kt_tenel         | 441293.10  | 33    | 06.08.2018 13:52:23 EST  | C++       | 4              | 2            |
| spagiarri        | 423275.86  | 34    | 06.09.2018 06:07:39 EST  | C++       | 7              | 7            |
| sas4eka          | 422758.62  | 35    | 06.09.2018 05:34:44 EST  | C++       | 10             | 8            |
| NobuMiu          | 414568.97  | 36    | 06.09.2018 02:24:23 EST  | C++       | 3              | 2            |
| tanzaku          | 407586.21  | 37    | 06.09.2018 02:40:59 EST  | Java      | 2              | 2            |
| ktuan            | 374568.97  | 38    | 06.08.2018 03:51:50 EST  | C++       | 3              | 3            |
| my316g           | 327241.38  | 39    | 06.09.2018 03:19:37 EST  | C++       | 2              | 2            |
| senya0126        | 318793.10  | 40    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| Hohol            | 310172.41  | 41    | 06.08.2018 16:59:39 EST  | Java      | 0              | 5            |
| luvtechno        | 295775.86  | 42    | 06.09.2018 02:35:02 EST  | Java      | 4              | 4            |
| danbanica        | 294568.97  | 43    | 06.09.2018 03:23:58 EST  | C++       | 1              | 1            |
| kotamanegi       | 238534.48  | 44    | 06.08.2018 22:21:16 EST  | C++       | 1              | 1            |
| daisyo           | 233275.86  | 45    | 06.09.2018 03:03:12 EST  | C++       | 1              | 1            |
| y_kawano         | 229655.17  | 46    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| AAAAAnt          | 210086.21  | 47    | 06.08.2018 14:39:23 EST  | Java      | 1              | 2            |
| PikokoLoko       | 187241.38  | 48    | 06.08.2018 11:44:00 EST  | Java      | 1              | 1            |
| robjermy         | 181120.69  | 49    | 06.08.2018 15:01:05 EST  | C++       | 1              | 1            |
| Balajiganapathi  | 177155.17  | 50    | 06.09.2018 06:29:45 EST  | C++       | 3              | 2            |
| gurualo          | 152413.79  | 51    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| moshu            | 119137.93  | 52    | 06.08.2018 13:02:05 EST  | C++       | 2              | 2            |
| ceni1055         | 79137.93   | 53    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id               | 5172.41    | 54    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd            | 5172.41    | 54    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON         | 5172.41    | 54    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| gchebanov        | 2931.03    | 57    | 06.08.2018 15:15:20 EST  | C++       | 0              | 1            |
| jml04            | 0.00       | 58    | 06.08.2018 05:58:01 EST  | Java      | 1              | 1            |
| USERHACKER       | 0.00       | 58    | 06.08.2018 16:46:03 EST  | C++       | 1              | 2            |
| keymoon          | -          | -     | -                        | -         | 1              | 0            |
| southpolenator   | -          | -     | -                        | -         | 2              | 0            |
| sumoru           | -          | -     | -                        | -         | 1              | 0            |

</details>


### 2018年  6月  9日 土曜日 20:00:55 JST

今回は集中力/熱意/やる気/必死さのようなものが足りてない。
期間中であるにも関わらずblog弄ったりVPS立てたり親に顔を見せたりしており、明らかに異常。
関連して、根拠のない無敵感が消え、ratingなど指標から客観的に出てくる程度のなにかしか残ってない。
元々最終日付近で時間が取れなかったところに謎の延長が入って丸損なのと合わせても今回は勝てる気がしない。
普通にやれば勝てるはずの問題と目標順位のはずなのにどうしてこうなったのか。

### 2018年  6月  9日 土曜日 22:42:03 JST

何も考えずMMに提出するとそのときだけ平文通信になることが分かった。
ビジネスでやってると動いてるものを触るのは難しいから仕方ないが、もうちょっとなんとかならなかったのか。
なお私のscriptはhttps決め打ちなので影響なし。

-   <https://twitter.com/eris_c/status/1005428205740675072>
-   <https://twitter.com/iwashi31/lists/tco18mmr2>

### 2018年  6月  9日 土曜日 23:30:48 JST

-   色が少ないときだけでなくて多いときも多少は点数を加え滑らかにする: [7af8169124eb3d2572a4c012cf9586246151f602](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/7af8169124eb3d2572a4c012cf9586246151f602)
-   Boltzmann定数の調整: [34f0eb09e304966ab4a0cc321483c7293ff481aa](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/34f0eb09e304966ab4a0cc321483c7293ff481aa)

後者がすごく効いた。
すぐにやれるのは調整かなということで手を付けたのが幸運だった。

![](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/documents/image/seed-11.34f0eb09e304966ab4a0cc321483c7293ff481aa.png?token=ACGd-KpXlhfVqX_Gy4cCMndDguY0TYeDks5bJSLDwA%3D%3D)

提出したら8位。 多少は安心できる。

<details>
<summary>score表 34f0eb09e304966ab4a0cc321483c7293ff481aa</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   addedLanterns |   addedMirrors |   addedObstacles |   primaryOk |   secondaryOk |   incorrect |   rawScore |     iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-----------------|----------------|------------------|-------------|---------------|-------------|------------|---------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         34 |             24 |            42 |              17 |              3 |                1 |          10 |             9 |           1 |        393 |   1.93149e+07 |   9.50001 |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1909 |            315 |           801 |             301 |              4 |               27 |         231 |           201 |          22 |       8451 |   9.06848e+06 |   9.50002 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6232 |            619 |          3149 |             941 |            218 |               27 |         853 |           768 |         168 |      28947 |   7.80666e+06 |   9.50003 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2734 |            359 |          1223 |             419 |             18 |                8 |         320 |           311 |          75 |      11347 |   8.31735e+06 |   9.50002 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2693 |            658 |          1546 |             527 |             61 |               33 |         452 |           344 |          43 |      15299 |   9.64768e+06 |   9.50002 |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        632 |            190 |           402 |             143 |              0 |               14 |         111 |            81 |          20 |       3850 |   1.15882e+07 |   9.50002 |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2882 |            588 |          1822 |             610 |             27 |               24 |         471 |           413 |         148 |      16945 |   9.57229e+06 |   9.50002 |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        892 |            170 |           408 |             147 |             17 |                9 |         117 |            97 |          17 |       4048 |   9.62798e+06 |   9.50579 |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2440 |            426 |          1204 |             423 |             57 |               20 |         335 |           291 |          42 |      13545 |   8.75414e+06 |   9.50002 |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2047 |            332 |          1065 |             379 |             30 |               15 |         287 |           268 |          48 |      11822 |   8.55694e+06 |   9.50002 |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        596 |            139 |           369 |             105 |             17 |                0 |         110 |            74 |          16 |       3077 |   1.00521e+07 |   9.50001 |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2804 |            425 |          1157 |             434 |             18 |               35 |         312 |           305 |          39 |      13145 |   8.60941e+06 |   9.50002 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1886 |            478 |          1291 |             438 |             21 |                9 |         341 |           285 |          89 |      11276 |   1.01964e+07 |   9.50002 |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        198 |             32 |           122 |              45 |              3 |                0 |          34 |            31 |           5 |       1362 |   1.09104e+07 |   9.50001 |
|     15 | nan | nan |           nan |          nan |            nan |          nan |            nan |        nan |            nan |           nan |             nan |            nan |              nan |         nan |           nan |         nan |        nan | nan           | nan       |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1565 |            271 |           699 |             239 |              7 |                6 |         191 |           165 |          42 |       5894 |   9.23496e+06 |   9.50002 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        720 |            217 |           308 |             120 |              7 |                0 |          92 |            64 |           4 |       3100 |   1.05694e+07 |   9.50001 |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2918 |            333 |          1499 |             481 |             38 |               15 |         412 |           362 |         105 |      14304 |   8.48761e+06 |   9.50002 |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        463 |             54 |           233 |              87 |              5 |                7 |          61 |            60 |           8 |       2655 |   9.70774e+06 |   9.50001 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2054 |            338 |           956 |             325 |             29 |               12 |         257 |           232 |          47 |       8567 |   8.70454e+06 |   9.50002 |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2118 |            265 |          1389 |             441 |             34 |               24 |         389 |           312 |         107 |      13718 |   8.73365e+06 |   9.50002 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1635 |            207 |          1074 |             323 |             41 |               14 |         273 |           261 |          87 |       9028 |   9.1063e+06  |   9.50002 |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        625 |            147 |           418 |             156 |              5 |                9 |         110 |           105 |          17 |       4661 |   1.03018e+07 |   9.50002 |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        902 |            117 |           361 |             127 |              5 |                8 |          92 |            92 |          17 |       3321 |   8.58129e+06 |   9.50001 |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3007 |            730 |          1783 |             619 |             33 |               30 |         453 |           422 |         102 |      16549 |   9.76539e+06 |   9.50003 |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1039 |            175 |           634 |             195 |             48 |                4 |         176 |           148 |          21 |       5444 |   9.82771e+06 |   9.50002 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4274 |            482 |          1568 |             543 |             22 |               21 |         432 |           400 |          78 |      15109 |   7.96283e+06 |   9.50002 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        757 |             65 |           378 |             127 |             16 |                2 |          97 |           101 |          18 |       3552 |   8.9536e+06  |   9.50002 |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        233 |             35 |           140 |              42 |              2 |                1 |          41 |            28 |          10 |       1076 |   1.13032e+07 |   9.50004 |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        904 |            220 |           540 |             207 |              5 |               12 |         128 |           135 |          32 |       5379 |   1.03002e+07 |   9.50001 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3648 |            322 |          1637 |             524 |             60 |               23 |         476 |           400 |          93 |      16715 |   7.95927e+06 |   9.50003 |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        380 |            124 |           256 |              83 |              2 |               10 |          69 |            50 |          11 |       2002 |   1.19576e+07 |   9.50002 |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        975 |            298 |           757 |             251 |             13 |                8 |         203 |           153 |          68 |       6247 |   1.13573e+07 |   9.50001 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1367 |            114 |           631 |             208 |             12 |               11 |         178 |           160 |          37 |       6407 |   8.01234e+06 |   9.50001 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3349 |            366 |          1469 |             482 |             42 |                6 |         407 |           359 |          89 |      13644 |   8.16931e+06 |   9.50002 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4909 |            446 |          2557 |             779 |             95 |               18 |         686 |           616 |         194 |      21749 |   7.98843e+06 |   9.50003 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1275 |            339 |           906 |             292 |             43 |                3 |         239 |           211 |          55 |       8069 |   1.0732e+07  |   9.50002 |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        319 |             50 |           163 |              58 |              8 |                0 |          45 |            40 |           3 |       1868 |   1.05554e+07 |   9.50002 |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        395 |            127 |           294 |             109 |              4 |                3 |          80 |            60 |          18 |       2243 |   1.21032e+07 |   9.50002 |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        392 |             45 |           183 |              64 |              1 |                1 |          46 |            45 |          11 |       1667 |   1.01394e+07 |   9.50003 |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1755 |            406 |           827 |             318 |              9 |               13 |         229 |           196 |          35 |       8483 |   9.28287e+06 |   9.50002 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        438 |            161 |           285 |             115 |              3 |                6 |          68 |            70 |          12 |       3102 |   1.14965e+07 |   9.50001 |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3456 |            328 |          1186 |             424 |             37 |               11 |         324 |           323 |          38 |      14533 |   7.08205e+06 |   9.50002 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2033 |            376 |          1314 |             431 |             29 |               33 |         358 |           306 |          79 |      13699 |   8.92156e+06 |   9.50002 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2055 |            293 |           889 |             312 |             15 |               10 |         226 |           231 |          48 |       8054 |   7.91559e+06 |   9.50002 |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1700 |            473 |          1227 |             410 |             44 |               10 |         315 |           287 |          77 |      10290 |   9.32095e+06 |   9.50001 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        205 |             48 |           153 |              52 |              1 |                0 |          36 |            35 |           9 |       1288 |   1.02081e+07 |   9.50005 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4842 |            543 |          2067 |             694 |             62 |               12 |         584 |           514 |         103 |      21144 |   7.26365e+06 |   9.50003 |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2361 |            601 |          1424 |             488 |             16 |               16 |         347 |           350 |         108 |      11472 |   9.24749e+06 |   9.50002 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        903 |            257 |           600 |             195 |             24 |                1 |         141 |           142 |          24 |       4785 |   9.68685e+06 |   9.50001 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1091 |            185 |           702 |             228 |             10 |                1 |         188 |           153 |          60 |       5630 |   8.55215e+06 |   9.50001 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2604 |            656 |          1612 |             559 |             39 |               30 |         464 |           341 |          98 |      15604 |   8.74094e+06 |   9.50002 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4901 |            688 |          2223 |             689 |             58 |               19 |         646 |           505 |         115 |      18508 |   8.15266e+06 |   9.50003 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2078 |            267 |           894 |             290 |             15 |                5 |         241 |           223 |          47 |       8040 |   8.57159e+06 |   9.50002 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2568 |            449 |          1240 |             457 |             35 |               20 |         313 |           323 |          47 |      14313 |   8.97749e+06 |   9.50002 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1950 |            501 |          1189 |             420 |             28 |               16 |         314 |           272 |          60 |      12872 |   1.0117e+07  |   9.50002 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1186 |            386 |           893 |             306 |             17 |                4 |         224 |           200 |          64 |       8517 |   1.13324e+07 |   9.50002 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        400 |             38 |           200 |              64 |              7 |                1 |          61 |            48 |           7 |       1860 |   9.86774e+06 |   9.50002 |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1689 |            218 |           832 |             288 |             17 |                7 |         222 |           211 |          44 |       8955 |   9.04861e+06 |   9.50002 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2584 |            602 |          1092 |             391 |             18 |                0 |         296 |           255 |          46 |       9550 |   9.66733e+06 |   9.50351 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1771 |            271 |           688 |             244 |             11 |                1 |         185 |           177 |          25 |       6285 |   8.19526e+06 |   9.50573 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        426 |            114 |           292 |             108 |              0 |               10 |          67 |            65 |          12 |       2884 |   1.09147e+07 |   9.50005 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4242 |            960 |          3170 |            1020 |            109 |               46 |         846 |           711 |         234 |      30181 |   9.69356e+06 |   9.50003 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1867 |            307 |           975 |             343 |             16 |               26 |         250 |           245 |          39 |       8654 |   9.23672e+06 |   9.50002 |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1757 |            169 |           674 |             238 |              8 |               17 |         182 |           184 |          37 |       7783 |   8.18741e+06 |   9.50001 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        715 |            160 |           357 |             135 |              4 |                7 |          92 |            84 |          16 |       3326 |   1.04944e+07 |   9.50001 |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1681 |            434 |           921 |             321 |             32 |               25 |         273 |           199 |          20 |       7918 |   1.01558e+07 |   9.50002 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        803 |            148 |           323 |             118 |             14 |                0 |          91 |            75 |           8 |       3184 |   1.00615e+07 |   9.50001 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        934 |            333 |           805 |             272 |             11 |                6 |         188 |           176 |          70 |       6638 |   1.23586e+07 |   9.50001 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1249 |            154 |           697 |             228 |             13 |                8 |         193 |           161 |          49 |       7156 |   9.18059e+06 |   9.50002 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1742 |            302 |          1106 |             365 |              0 |               18 |         284 |           255 |          92 |       8873 |   9.8843e+06  |   9.50002 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        664 |             67 |           357 |             120 |              2 |                2 |          90 |            89 |          31 |       3250 |   9.47028e+06 |   9.50001 |
|     73 | nan | nan |           nan |          nan |            nan |          nan |            nan |        nan |            nan |           nan |             nan |            nan |              nan |         nan |           nan |         nan |        nan | nan           | nan       |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1527 |            118 |           825 |             254 |             15 |                9 |         236 |           185 |          70 |       7459 |   8.52162e+06 |   9.50001 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2407 |            768 |          1865 |             649 |             40 |               21 |         480 |           401 |         149 |      18434 |   1.06952e+07 |   9.50002 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3113 |            571 |          1212 |             439 |              8 |                7 |         323 |           287 |          59 |      10289 |   9.03482e+06 |   9.50002 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        349 |            104 |           185 |              65 |              1 |                0 |          50 |            38 |          11 |       1355 |   1.12929e+07 |   9.50001 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        558 |            160 |           432 |             138 |             19 |                1 |         110 |            98 |          23 |       4508 |   1.14653e+07 |   9.50001 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        537 |            158 |           240 |              93 |              1 |                2 |          71 |            48 |           8 |       2091 |   1.12503e+07 |   9.50002 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        984 |            207 |           330 |             126 |              4 |                3 |         101 |            74 |           6 |       2850 |   9.44874e+06 |   9.50002 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2574 |            392 |          1591 |             505 |             99 |                3 |         453 |           370 |          82 |      17893 |   8.7899e+06  |   9.50002 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1682 |            413 |          1079 |             339 |             35 |                9 |         306 |           219 |          61 |       7873 |   1.00478e+07 |   9.50096 |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2527 |            281 |          1617 |             483 |             26 |               25 |         450 |           341 |         147 |      12802 |   8.75249e+06 |   9.50002 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1744 |            223 |           845 |             271 |             39 |               30 |         239 |           209 |          20 |       7814 |   8.92719e+06 |   9.50918 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2610 |            391 |          1696 |             538 |             81 |               20 |         470 |           391 |         100 |      17325 |   8.75286e+06 |   9.51198 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1288 |            115 |           577 |             199 |              5 |                9 |         133 |           168 |          36 |       5635 |   8.0133e+06  |   9.50002 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4398 |            391 |          1562 |             534 |             36 |               30 |         424 |           406 |          79 |      16264 |   7.28991e+06 |   9.50003 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2655 |            607 |          1886 |             646 |             25 |               76 |         529 |           422 |         113 |      19142 |   9.95027e+06 |   9.50003 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        845 |             94 |           377 |             121 |             12 |                1 |         114 |            86 |          18 |       3457 |   8.8065e+06  |   9.50001 |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        485 |             41 |           290 |              93 |              4 |                7 |          83 |            71 |          18 |       2874 |   9.36497e+06 |   9.50001 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4561 |            452 |          2456 |             783 |             26 |               65 |         634 |           609 |         209 |      21361 |   8.41038e+06 |   9.50003 |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3580 |            553 |          1987 |             596 |             90 |               63 |         578 |           445 |          74 |      16689 |   9.05431e+06 |   9.5019  |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1407 |            137 |           799 |             269 |              3 |                7 |         197 |           202 |          77 |       8058 |   8.81862e+06 |   9.50002 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2370 |            854 |          1872 |             570 |             55 |               14 |         485 |           384 |         114 |      13304 |   1.07358e+07 |   9.50002 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3018 |            535 |          1205 |             443 |             29 |               19 |         317 |           323 |          26 |      12630 |   8.7327e+06  |   9.50002 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2971 |            594 |          1863 |             625 |              3 |               29 |         494 |           403 |         172 |      15910 |   9.05589e+06 |   9.50002 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       2984 |            873 |          2347 |             751 |            142 |                5 |         632 |           485 |         141 |      22768 |   1.03618e+07 |   9.50003 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        699 |            112 |           329 |             110 |             15 |                5 |         100 |            73 |          10 |       2925 |   1.00206e+07 |   9.50002 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1305 |            281 |           523 |             199 |              9 |                3 |         152 |           123 |          13 |       5256 |   1.01483e+07 |   9.50001 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        483 |             46 |           215 |              77 |              6 |                2 |          49 |            62 |           9 |       2108 |   9.78251e+06 |   9.50001 |

</details>

<details>
<summary>順位表 34f0eb09e304966ab4a0cc321483c7293ff481aa</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| eldidou          | 971694.92  | 1     | 06.08.2018 19:47:31 EST  | C++       | 4              | 3            |
| CatalinT         | 967118.64  | 2     | 06.09.2018 04:04:54 EST  | C++       | 6              | 7            |
| kurenai3110      | 959661.02  | 3     | 06.08.2018 12:27:28 EST  | C++       | 1              | 1            |
| Psyho            | 939661.02  | 4     | 06.09.2018 01:14:34 EST  | C++       | 2              | 6            |
| tourist          | 932881.36  | 5     | 06.09.2018 03:58:47 EST  | C++       | 17             | 9            |
| atsT5515         | 904067.80  | 6     | 06.09.2018 06:10:29 EST  | C++       | 1              | 1            |
| gorbunov         | 903474.58  | 7     | 06.09.2018 08:38:27 EST  | C++       | 10             | 6            |
| kimiyuki         | 888898.31  | 8     | 06.09.2018 10:30:06 EST  | C++       | 7              | 8            |
| PaulJefferys     | 841949.15  | 9     | 06.08.2018 18:02:26 EST  | C++       | 3              | 2            |
| nika             | 825593.22  | 10    | 06.09.2018 08:24:57 EST  | C++       | 2              | 5            |
| kosakkun         | 810254.24  | 11    | 06.09.2018 08:22:53 EST  | C++       | 8              | 4            |
| H_a_s_h          | 794576.27  | 12    | 06.09.2018 06:12:48 EST  | C++       | 2              | 2            |
| marek.cygan      | 779406.78  | 13    | 06.09.2018 01:22:47 EST  | C++       | 8              | 8            |
| JacoCronje       | 773050.85  | 14    | 06.08.2018 16:38:54 EST  | C++       | 8              | 7            |
| yuya178          | 772966.10  | 15    | 06.09.2018 10:10:09 EST  | Java      | 19             | 8            |
| EvbCFfp1XB       | 768644.07  | 16    | 06.08.2018 06:34:33 EST  | Java      | 1              | 1            |
| skrzypl1         | 745000.00  | 17    | 06.08.2018 14:05:56 EST  | C#        | 3              | 3            |
| RafbillFr        | 739661.02  | 18    | 06.09.2018 09:43:05 EST  | C++       | 10             | 8            |
| chokudai         | 699152.54  | 19    | 06.08.2018 21:31:31 EST  | C++       | 6              | 3            |
| imazato          | 675847.46  | 20    | 06.09.2018 09:09:33 EST  | C++       | 4              | 4            |
| mhora            | 675593.22  | 21    | 06.08.2018 23:27:00 EST  | C++       | 8              | 7            |
| sdya             | 650932.20  | 22    | 06.08.2018 23:09:44 EST  | C++       | 4              | 4            |
| krismaz          | 616949.15  | 23    | 06.08.2018 18:39:18 EST  | C++       | 3              | 3            |
| okazaki          | 608220.34  | 24    | 06.09.2018 09:53:26 EST  | Java      | 3              | 10           |
| yowa             | 583813.56  | 25    | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| USERHACKER       | 581016.95  | 26    | 06.09.2018 10:13:07 EST  | C++       | 2              | 4            |
| fetetriste       | 540932.20  | 27    | 06.09.2018 09:43:32 EST  | Java      | 8              | 7            |
| hoshi524         | 538983.05  | 28    | 06.08.2018 22:12:54 EST  | C++       | 1              | 1            |
| mugurelionut     | 532711.86  | 29    | 06.09.2018 06:46:46 EST  | C++       | 5              | 3            |
| eris_c           | 497966.10  | 30    | 06.09.2018 06:07:58 EST  | C++       | 3              | 4            |
| iwashi31         | 489576.27  | 31    | 06.09.2018 09:15:24 EST  | C++       | 0              | 3            |
| sas4eka          | 488983.05  | 32    | 06.09.2018 08:21:10 EST  | C++       | 12             | 9            |
| kyuridenamida    | 456779.66  | 33    | 06.08.2018 20:21:46 EST  | C++       | 3              | 2            |
| windhunterSB     | 443644.07  | 34    | 06.09.2018 05:53:50 EST  | C++       | 10             | 7            |
| kt_tenel         | 428728.81  | 35    | 06.09.2018 09:16:18 EST  | C++       | 8              | 3            |
| spagiarri        | 405254.24  | 36    | 06.09.2018 06:07:39 EST  | C++       | 7              | 7            |
| tanzaku          | 391101.69  | 37    | 06.09.2018 02:40:59 EST  | Java      | 2              | 2            |
| NobuMiu          | 381440.68  | 38    | 06.09.2018 02:24:23 EST  | C++       | 3              | 2            |
| ktuan            | 361271.19  | 39    | 06.08.2018 03:51:50 EST  | C++       | 3              | 3            |
| danbanica        | 315254.24  | 40    | 06.09.2018 08:58:22 EST  | C++       | 2              | 2            |
| daisyo           | 311694.92  | 41    | 06.09.2018 06:59:45 EST  | C++       | 2              | 2            |
| my316g           | 289322.03  | 42    | 06.09.2018 03:19:37 EST  | C++       | 2              | 2            |
| Hohol            | 288983.05  | 43    | 06.08.2018 16:59:39 EST  | Java      | 0              | 5            |
| senya0126        | 277796.61  | 44    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| kotamanegi       | 276186.44  | 45    | 06.09.2018 07:46:55 EST  | C++       | 2              | 2            |
| takeo1116        | 258474.58  | 46    | 06.09.2018 09:47:26 EST  | C++       | 2              | 1            |
| luvtechno        | 246355.93  | 47    | 06.09.2018 02:35:02 EST  | Java      | 4              | 4            |
| Balajiganapathi  | 211525.42  | 48    | 06.09.2018 08:30:27 EST  | C++       | 6              | 3            |
| y_kawano         | 181864.41  | 49    | 06.07.2018 14:45:49 EST  | C++       | 1              | 1            |
| AAAAAnt          | 167288.14  | 50    | 06.08.2018 14:39:23 EST  | Java      | 1              | 2            |
| PikokoLoko       | 154067.80  | 51    | 06.08.2018 11:44:00 EST  | Java      | 1              | 1            |
| robjermy         | 146101.69  | 52    | 06.08.2018 15:01:05 EST  | C++       | 1              | 1            |
| gurualo          | 128135.59  | 53    | 06.07.2018 11:02:07 EST  | C++       | 1              | 1            |
| moshu            | 99830.51   | 54    | 06.08.2018 13:02:05 EST  | C++       | 2              | 2            |
| ceni1055         | 65932.20   | 55    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id               | 4067.80    | 56    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd            | 4067.80    | 56    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON         | 4067.80    | 56    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| gchebanov        | 2372.88    | 59    | 06.08.2018 15:15:20 EST  | C++       | 0              | 1            |
| jml04            | 0.00       | 60    | 06.08.2018 05:58:01 EST  | Java      | 1              | 1            |
| keymoon          | -          | -     | -                        | -         | 1              | 0            |
| southpolenator   | -          | -     | -                        | -         | 2              | 0            |
| sumoru           | -          | -     | -                        | -         | 1              | 0            |

</details>

### 2018年  6月  9日 土曜日 23:45:24 JST

VPS上で2000ケースをゆっくり実行してたののうち seed = 306 が無限ループに入って発散していた。
うっかり `$ git pull` してかつ表示を流してしまいいつの時点のを実行してたか不明。

とりあえずバグ検出のため今の `34f0eb09e304966ab4a0cc321483c7293ff481aa` で4000ケースを2回分の実行を予約して寝る。


### 2018年  6月 10日 日曜日 12:48:13 JST

無限ループの対策をぜんぜんしていなかったので発散しまくりだった。
鏡でループした場合とかなのだろうか。 解決するにも無視するにもつらい再現率。

<details>
<summary>失敗の一覧 34f0eb09e304966ab4a0cc321483c7293ff481aa</summary>

手でkillしたやつ

``` json
{"seed":1280}
{"seed":1864}
{"seed":2014}
{"seed":2036}
Failed to get result from placeItems.
Score = -1000000.0
```

勝手に落ちてたやつ

``` json
{"seed":15,"H":17,"W":76,"costLantern":6,"costMirror":5,"costObstacle":19,"maxMirrors":21,"maxObstacles":9,"numEmpty":821,"numObstacles":143,"numCrystals":328,"addedLanterns":119,"addedMirrors":20,"addedObstacles":0,"primaryOk":93,"secondaryOk":80,"incorrect":4,"rawScore":3406,"iteration":9644843,"elapsed":9.50001}
Wrong score: excpected 3366, but 3406 declared.
Score = -1000000.0

{"seed":73,"H":51,"W":77,"costLantern":1,"costMirror":5,"costObstacle":18,"maxMirrors":74,"maxObstacles":11,"numEmpty":2306,"numObstacles":482,"numCrystals":1139,"addedLanterns":412,"addedMirrors":74,"addedObstacles":3,"primaryOk":316,"secondaryOk":268,"incorrect":28,"rawScore":13244,"iteration":9454084,"elapsed":9.50002}
Item 6: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":121,"H":25,"W":91,"costLantern":4,"costMirror":3,"costObstacle":20,"maxMirrors":38,"maxObstacles":3,"numEmpty":1565,"numObstacles":126,"numCrystals":584,"addedLanterns":183,"addedMirrors":38,"addedObstacles":3,"primaryOk":177,"secondaryOk":143,"incorrect":19,"rawScore":6734,"iteration":8139597,"elapsed":9.50001}
Item 17: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":140,"H":35,"W":94,"costLantern":8,"costMirror":3,"costObstacle":7,"maxMirrors":54,"maxObstacles":3,"numEmpty":1992,"numObstacles":383,"numCrystals":915,"addedLanterns":314,"addedMirrors":54,"addedObstacles":3,"primaryOk":249,"secondaryOk":229,"incorrect":25,"rawScore":8905,"iteration":9620714,"elapsed":9.50002}
Item 39: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":232,"H":75,"W":89,"costLantern":4,"costMirror":5,"costObstacle":16,"maxMirrors":130,"maxObstacles":22,"numEmpty":3794,"numObstacles":376,"numCrystals":2505,"addedLanterns":748,"addedMirrors":130,"addedObstacles":20,"primaryOk":668,"secondaryOk":592,"incorrect":198,"rawScore":25178,"iteration":9119884,"elapsed":9.50003}
Wrong score: excpected 25158, but 25178 declared.
Score = -1000000.0

{"seed":241,"H":33,"W":87,"costLantern":4,"costMirror":5,"costObstacle":7,"maxMirrors":81,"maxObstacles":30,"numEmpty":1503,"numObstacles":259,"numCrystals":1109,"addedLanterns":346,"addedMirrors":81,"addedObstacles":28,"primaryOk":302,"secondaryOk":260,"incorrect":40,"rawScore":11455,"iteration":10494034,"elapsed":9.50001}
Wrong score: excpected 11435, but 11455 declared.
Score = -1000000.0

{"seed":333,"H":67,"W":72,"costLantern":9,"costMirror":7,"costObstacle":6,"maxMirrors":112,"maxObstacles":22,"numEmpty":2611,"numObstacles":390,"numCrystals":1823,"addedLanterns":542,"addedMirrors":112,"addedObstacles":22,"primaryOk":475,"secondaryOk":438,"incorrect":116,"rawScore":15686,"iteration":10081255,"elapsed":9.50002}
Wrong score: excpected 15646, but 15686 declared.
Score = -1000000.0

{"seed":380,"H":60,"W":65,"costLantern":8,"costMirror":4,"costObstacle":7,"maxMirrors":59,"maxObstacles":21,"numEmpty":2243,"numObstacles":583,"numCrystals":1074,"addedLanterns":370,"addedMirrors":59,"addedObstacles":19,"primaryOk":290,"secondaryOk":257,"incorrect":21,"rawScore":9971,"iteration":10308859,"elapsed":9.50002}
Wrong score: excpected 9931, but 9971 declared.
Score = -1000000.0

{"seed":420,"H":72,"W":95,"costLantern":1,"costMirror":6,"costObstacle":4,"maxMirrors":87,"maxObstacles":23,"numEmpty":3340,"numObstacles":1038,"numCrystals":2462,"addedLanterns":862,"addedMirrors":87,"addedObstacles":23,"primaryOk":636,"secondaryOk":553,"incorrect":153,"rawScore":26304,"iteration":11387270,"elapsed":9.50002}
Wrong score: excpected 26264, but 26304 declared.
Score = -1000000.0

{"seed":462,"H":15,"W":75,"costLantern":6,"costMirror":3,"costObstacle":15,"maxMirrors":15,"maxObstacles":6,"numEmpty":637,"numObstacles":118,"numCrystals":370,"addedLanterns":129,"addedMirrors":15,"addedObstacles":3,"primaryOk":96,"secondaryOk":92,"incorrect":16,"rawScore":3656,"iteration":10812327,"elapsed":9.50001}
Item 9: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":476,"H":32,"W":84,"costLantern":4,"costMirror":6,"costObstacle":4,"maxMirrors":49,"maxObstacles":14,"numEmpty":1801,"numObstacles":172,"numCrystals":715,"addedLanterns":234,"addedMirrors":49,"addedObstacles":14,"primaryOk":177,"secondaryOk":209,"incorrect":12,"rawScore":8404,"iteration":8835855,"elapsed":9.50002}
Wrong score: excpected 8384, but 8404 declared.
Score = -1000000.0

{"seed":482,"H":15,"W":41,"costLantern":3,"costMirror":7,"costObstacle":13,"maxMirrors":11,"maxObstacles":9,"numEmpty":288,"numObstacles":94,"numCrystals":233,"addedLanterns":77,"addedMirrors":10,"addedObstacles":1,"primaryOk":78,"secondaryOk":39,"incorrect":8,"rawScore":2336,"iteration":13016368,"elapsed":9.50001}
Item 5: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":555,"H":18,"W":29,"costLantern":8,"costMirror":3,"costObstacle":9,"maxMirrors":10,"maxObstacles":6,"numEmpty":321,"numObstacles":31,"numCrystals":170,"addedLanterns":55,"addedMirrors":10,"addedObstacles":6,"primaryOk":45,"secondaryOk":45,"incorrect":5,"rawScore":1676,"iteration":10384063,"elapsed":9.50001}
Item 6: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":557,"H":73,"W":96,"costLantern":6,"costMirror":4,"costObstacle":12,"maxMirrors":174,"maxObstacles":59,"numEmpty":3780,"numObstacles":565,"numCrystals":2663,"addedLanterns":793,"addedMirrors":174,"addedObstacles":30,"primaryOk":730,"secondaryOk":579,"incorrect":201,"rawScore":24146,"iteration":9629280,"elapsed":9.50003}
Wrong score: excpected 24086, but 24146 declared.
Score = -1000000.0

{"seed":557,"H":73,"W":96,"costLantern":6,"costMirror":4,"costObstacle":12,"maxMirrors":174,"maxObstacles":59,"numEmpty":3780,"numObstacles":565,"numCrystals":2663,"addedLanterns":793,"addedMirrors":174,"addedObstacles":30,"primaryOk":730,"secondaryOk":579,"incorrect":201,"rawScore":24146,"iteration":9629280,"elapsed":9.50003}
Wrong score: excpected 24086, but 24146 declared.
Score = -1000000.0

{"seed":582,"H":36,"W":49,"costLantern":5,"costMirror":6,"costObstacle":18,"maxMirrors":30,"maxObstacles":15,"numEmpty":942,"numObstacles":242,"numCrystals":580,"addedLanterns":198,"addedMirrors":30,"addedObstacles":1,"primaryOk":157,"secondaryOk":132,"incorrect":19,"rawScore":5722,"iteration":11279915,"elapsed":9.50002}
Wrong score: excpected 5702, but 5722 declared.
Score = -1000000.0

{"seed":619,"H":15,"W":73,"costLantern":3,"costMirror":5,"costObstacle":4,"maxMirrors":7,"maxObstacles":10,"numEmpty":668,"numObstacles":102,"numCrystals":325,"addedLanterns":121,"addedMirrors":7,"addedObstacles":10,"primaryOk":85,"secondaryOk":83,"incorrect":6,"rawScore":3692,"iteration":10186811,"elapsed":9.50002}
Item 0: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":644,"H":61,"W":98,"costLantern":7,"costMirror":5,"costObstacle":7,"maxMirrors":89,"maxObstacles":16,"numEmpty":3738,"numObstacles":609,"numCrystals":1631,"addedLanterns":555,"addedMirrors":89,"addedObstacles":16,"primaryOk":462,"secondaryOk":393,"incorrect":58,"rawScore":16008,"iteration":9364109,"elapsed":9.50003}
Wrong score: excpected 15968, but 16008 declared.
Score = -1000000.0

{"seed":659,"H":82,"W":99,"costLantern":8,"costMirror":4,"costObstacle":15,"maxMirrors":203,"maxObstacles":23,"numEmpty":4968,"numObstacles":502,"numCrystals":2648,"addedLanterns":790,"addedMirrors":203,"addedObstacles":21,"primaryOk":720,"secondaryOk":657,"incorrect":116,"rawScore":25503,"iteration":8981031,"elapsed":9.50003}
Wrong score: excpected 25423, but 25503 declared.
Score = -1000000.0

{"seed":668,"H":52,"W":83,"costLantern":5,"costMirror":3,"costObstacle":8,"maxMirrors":98,"maxObstacles":58,"numEmpty":2302,"numObstacles":498,"numCrystals":1516,"addedLanterns":476,"addedMirrors":98,"addedObstacles":41,"primaryOk":443,"secondaryOk":329,"incorrect":46,"rawScore":15268,"iteration":10600855,"elapsed":9.50002}
Item 12: A lantern should not be illuminated by any light ray.
Score = -1000000.0

{"seed":680,"H":68,"W":100,"costLantern":6,"costMirror":4,"costObstacle":7,"maxMirrors":81,"maxObstacles":23,"numEmpty":3896,"numObstacles":1033,"numCrystals":1871,"addedLanterns":664,"addedMirrors":81,"addedObstacles":23,"primaryOk":529,"secondaryOk":411,"incorrect":54,"rawScore":17901,"iteration":10597321,"elapsed":9.50003}
Wrong score: excpected 17881, but 17901 declared.
Score = -1000000.0

{"seed":704,"H":34,"W":96,"costLantern":10,"costMirror":4,"costObstacle":4,"maxMirrors":71,"maxObstacles":28,"numEmpty":1753,"numObstacles":453,"numCrystals":1058,"addedLanterns":338,"addedMirrors":71,"addedObstacles":20,"primaryOk":292,"secondaryOk":244,"incorrect":28,"rawScore":9136,"iteration":11227727,"elapsed":9.50001}
Wrong score: excpected 9076, but 9136 declared.
Score = -1000000.0

...
```

</details>

### 2018年  6月 10日 日曜日 14:53:04 JST

予想通りではあるが原因は鏡によるループだった。 なお他にもあるかも。
単純な形だけでなくて、極端な例では次の形から障害物を除去して発生する場合などがある。

```
/\.
X\\
\./
```

### 2018年  6月 10日 日曜日 16:22:43 JST

閉路の問題は除去したが、これとは別に `A lantern should not be illuminated by any light ray.` が残る。
しかしこれも鏡が原因ぽい？

ところで seed = 1280 がdebugに優秀。
costMirror = 4, costObstacle = 3, maxMirrors = 187, maxObstacles = 63 なので鏡や障害物がどんどん設置される。
欠点は広すぎて盤面が読めず、バグの検出しかできないこと。

### 2018年  6月 10日 日曜日 17:29:15 JST

仕方がないのでちまちまデバッグ。

どうずれているのかの可視化: [1866cc087463223fff31fd77f91da5b43b66ca97](https://github.com/kmyk/topcoder-marathon-match-tco-2018-r2-crystal-lighting/commit/1866cc087463223fff31fd77f91da5b43b66ca97)

<details>
<summary>出力の例</summary>

```
VALIDATION FAILED
board: OK
light: NG
info:  NG

6.XXL.2..X|6.XXL.2..X
.3.L.6XLX.|.3.L.6XLX.
L2XXX..2..|L2XXX..2..
/\X1LX884L|/\X1LX884L
\.X6..X.8X|\.X6..X.8X
3.6L..X.X.|3.6L..X.X.
L..X3X4..L|L..X3X4..L
X.6L..4XX.|X.6L..4XX.
.6XXX..X..|.6XXX..X..
L..11L1..6|L..11L1..6
----------+----------
2..2.222.4|2..2.222.4
222.222.24|222.222.24
.2.23..2.4|.2.23..2.4
2..1.1..4.|2..1.1..4.
...41....4|.2.41....4
1.4.544..4|1.4.544..4
.11511444.|.11511444.
1.4.454..4|1.4.454..4
1..4.1...4|1..4.1...4
.1111.1..4|.1111.1..4

details of light:
 8 . .28 . 2 2 8 . c |  8 . .28 . 2 2 8 . c
 82020 .82 220 . 2 c |  82020 .82 220 . 2 c
 . 2 .8084 . .80 . c |  . 2 .8084 . .80 . c
80 . .10 . 1 . .30 . | 80 . .10 . 1 . .30 .
 . . . c40 . . . .cc |  . 2 . c40 . . . .cc
 4 .30 .43 3 3 . . c |  4 .30 .43 3 3 . . c
 . 1 1cd40 4303030 . |  . 1 1cd40 4303030 .
44 .30 . 3 7 3 . .c0 | 44 .30 . 3 7 3 . .c0
 4 . .c0 . 4 . . .c0 |  4 . .c0 . 4 . . .c0
 . 1 1 110 . 1 . .c0 |  . 1 1 110 . 1 . .c0
```

</details>

### 2018年  6月 10日 日曜日 18:35:36 JST

分かってきた。
次のような形のとき `L` のひとつ下の点 (1, 0) には「上から光が来た」だけ記憶させ右からも来るがこれは2回目なので無視しているが、鏡を削除するなどすると「右から光が来ていた」ことになってしまう。
xorによる反転で処理してたため判明しなかった。

```
LXX
..\
.X.
\./
```

### 2018年  6月 10日 日曜日 19:20:58 JST

バグ取り終了。 疲れた。 実装力。
言い訳をすると、定数倍を諦めればもっと早く終わっていたはずです。

別の方向から2回目に入ってきた同じ光線についてもその情報を記録するようにした。
足す時は一気にやるが、消す時は自分のところまで戻ってきたら終了するようにして区分的に消す。

### 2018年  6月 10日 日曜日 19:48:08 JST

提出したら順位は変わらない程度に微減した。
あとkosakkunに抜かれてるしkurenai3110は全然落ちてない。

<details>
<summary>score表 a04a653cc0dd0450c8131d9524992f7d35eca585</summary>

|   seed |   H |   W |   costLantern |   costMirror |   costObstacle |   maxMirrors |   maxObstacles |   numEmpty |   numObstacles |   numCrystals |   addedLanterns |   addedMirrors |   addedObstacles |   primaryOk |   secondaryOk |   incorrect |   rawScore |   iteration |   elapsed |
|--------|-----|-----|---------------|--------------|----------------|--------------|----------------|------------|----------------|---------------|-----------------|----------------|------------------|-------------|---------------|-------------|------------|-------------|-----------|
|      1 |  10 |  10 |             2 |            6 |             15 |            3 |              3 |         34 |             24 |            42 |              16 |              3 |                0 |          10 |             8 |           1 |        380 | 1.93225e+07 |   9.50325 |
|      2 |  55 |  55 |             6 |           23 |              3 |           11 |             28 |       1911 |            316 |           798 |             299 |              3 |               28 |         231 |           199 |          22 |       8423 | 8.85053e+06 |   9.50227 |
|      3 | 100 | 100 |             7 |           12 |             10 |          235 |             27 |       6213 |            619 |          3168 |             954 |            224 |               27 |         865 |           776 |         177 |      29174 | 7.85802e+06 |   9.50741 |
|      4 |  52 |  83 |             7 |           30 |             20 |           21 |             13 |       2720 |            361 |          1235 |             433 |             16 |               10 |         325 |           323 |          76 |      11719 | 8.24546e+06 |   9.51209 |
|      5 |  59 |  83 |             5 |           12 |              8 |           61 |             37 |       2696 |            660 |          1541 |             525 |             58 |               35 |         452 |           336 |          53 |      14989 | 9.14636e+06 |   9.51272 |
|      6 |  34 |  36 |             4 |           28 |              2 |           25 |             14 |        630 |            190 |           404 |             144 |              1 |               14 |         114 |            81 |          21 |       3868 | 1.13033e+07 |   9.50682 |
|      7 |  54 |  98 |             4 |           27 |              9 |           99 |             24 |       2877 |            588 |          1827 |             605 |             37 |               24 |         471 |           416 |         147 |      16795 | 9.36323e+06 |   9.50989 |
|      8 |  30 |  49 |             6 |            3 |             11 |           17 |             11 |        896 |            168 |           406 |             145 |             17 |                7 |         119 |            93 |          14 |       4032 | 9.4611e+06  |   9.51067 |
|      9 |  55 |  74 |             2 |            7 |             11 |           57 |             20 |       2430 |            426 |          1214 |             433 |             57 |               20 |         334 |           296 |          44 |      13635 | 8.54384e+06 |   9.50355 |
|     10 |  41 |  84 |             2 |           18 |             12 |           46 |             25 |       2044 |            337 |          1063 |             379 |             28 |               20 |         286 |           270 |          48 |      11838 | 8.53825e+06 |   9.50236 |
|     11 |  24 |  46 |             9 |           14 |             15 |           26 |              1 |        593 |            139 |           372 |             112 |             16 |                0 |         113 |            75 |          18 |       3098 | 9.66609e+06 |   9.50291 |
|     12 |  51 |  86 |             3 |           21 |              5 |           26 |             35 |       2811 |            425 |          1150 |             430 |             15 |               35 |         311 |           297 |          42 |      12930 | 7.95373e+06 |   9.51724 |
|     13 |  43 |  85 |             6 |           21 |             15 |          102 |             30 |       1870 |            481 |          1304 |             434 |             38 |               12 |         344 |           293 |          74 |      11348 | 1.01724e+07 |   9.50302 |
|     14 |  16 |  22 |             4 |            6 |             18 |            3 |              2 |        198 |             32 |           122 |              46 |              3 |                0 |          35 |            31 |           6 |       1368 | 1.02514e+07 |   9.50383 |
|     15 |  17 |  76 |             6 |            5 |             19 |           21 |              9 |        821 |            144 |           327 |             115 |             21 |                1 |          91 |            79 |           5 |       3326 | 9.15223e+06 |   9.5009  |
|     16 |  39 |  65 |             9 |           29 |             17 |           33 |             14 |       1568 |            271 |           696 |             240 |              3 |                6 |         192 |           162 |          43 |       5921 | 8.9481e+06  |   9.51047 |
|     17 |  15 |  83 |             4 |           20 |             13 |           10 |             10 |        716 |            217 |           312 |             128 |              4 |                0 |          92 |            64 |           6 |       3108 | 1.07436e+07 |   9.50955 |
|     18 |  50 |  95 |             7 |            8 |              5 |           38 |             15 |       2905 |            333 |          1512 |             494 |             38 |               15 |         414 |           364 |         106 |      14303 | 8.57274e+06 |   9.50327 |
|     19 |  10 |  75 |             2 |           18 |              3 |           10 |              7 |        464 |             54 |           232 |              86 |              5 |                7 |          65 |            58 |           5 |       2707 | 9.91184e+06 |   9.50066 |
|     20 |  36 |  93 |             8 |           11 |             12 |           29 |             35 |       2059 |            336 |           953 |             322 |             29 |               10 |         258 |           225 |          45 |       8445 | 8.8477e+06  |   9.50614 |
|     21 |  41 |  92 |             4 |            6 |             16 |           34 |             43 |       2127 |            263 |          1382 |             434 |             34 |               22 |         377 |           321 |         122 |      13658 | 8.99066e+06 |   9.51211 |
|     22 |  54 |  54 |             8 |           18 |              5 |           41 |             14 |       1624 |            207 |          1085 |             334 |             41 |               14 |         275 |           264 |          87 |       9070 | 9.07223e+06 |   9.5115  |
|     23 |  34 |  35 |             2 |           27 |              8 |            6 |              9 |        631 |            147 |           412 |             151 |              4 |                9 |         111 |           103 |          17 |       4658 | 1.04952e+07 |   9.50094 |
|     24 |  30 |  46 |             7 |           28 |             10 |           10 |             14 |        898 |            120 |           362 |             129 |              3 |               10 |          92 |            91 |          12 |       3363 | 8.68792e+06 |   9.51924 |
|     25 |  69 |  80 |             5 |           22 |             11 |          116 |             53 |       3026 |            725 |          1769 |             611 |             27 |               25 |         448 |           417 |         109 |      16456 | 9.62760e+06 |   9.51468 |
|     26 |  28 |  66 |            10 |            6 |             17 |           48 |             22 |       1040 |            175 |           633 |             193 |             48 |                4 |         173 |           148 |          21 |       5404 | 9.68274e+06 |   9.50136 |
|     27 |  68 |  93 |             7 |           26 |             18 |           72 |             55 |       4270 |            484 |          1570 |             537 |             30 |               23 |         447 |           394 |          65 |      15157 | 7.7825e+06  |   9.50477 |
|     28 |  24 |  50 |             8 |           13 |              7 |           16 |              2 |        771 |             65 |           364 |             113 |             16 |                2 |         100 |            93 |          18 |       3484 | 8.65448e+06 |   9.50951 |
|     29 |  17 |  24 |            10 |           24 |             16 |            2 |              1 |        239 |             35 |           134 |              42 |              2 |                1 |          42 |            27 |           9 |       1076 | 1.04617e+07 |   9.50033 |
|     30 |  32 |  52 |             4 |            7 |              4 |            5 |             12 |        908 |            220 |           536 |             203 |              5 |               12 |         125 |           134 |          35 |       5275 | 1.03445e+07 |   9.51118 |
|     31 |  63 |  89 |             5 |           19 |              5 |          116 |             23 |       3648 |            322 |          1637 |             523 |             61 |               23 |         485 |           396 |          91 |      16781 | 7.86468e+06 |   9.51336 |
|     32 |  10 |  76 |             8 |           22 |              6 |            7 |             10 |        380 |            124 |           256 |              83 |              2 |               10 |          67 |            51 |          11 |       1992 | 1.17381e+07 |   9.50059 |
|     33 |  29 |  70 |             6 |           13 |              6 |           13 |              8 |        984 |            298 |           748 |             242 |             13 |                8 |         197 |           150 |          54 |       6231 | 1.10384e+07 |   9.51175 |
|     34 |  22 |  96 |             6 |           16 |             13 |           12 |             24 |       1359 |            114 |           639 |             216 |             12 |               11 |         177 |           165 |          38 |       6479 | 8.13873e+06 |   9.50159 |
|     35 |  54 |  96 |             7 |           22 |             13 |          116 |              6 |       3358 |            366 |          1460 |             479 |             36 |                6 |         407 |           351 |          86 |      13587 | 8.09749e+06 |   9.50388 |
|     36 |  86 |  92 |             9 |           12 |             20 |           95 |             66 |       4896 |            451 |          2565 |             787 |             95 |               23 |         671 |           633 |         203 |      21697 | 7.93632e+06 |   9.50624 |
|     37 |  45 |  56 |             7 |            9 |             20 |           43 |              3 |       1270 |            339 |           911 |             297 |             43 |                3 |         242 |           209 |          53 |       8054 | 1.04681e+07 |   9.51281 |
|     38 |  14 |  38 |             1 |           18 |             18 |           10 |              5 |        318 |             49 |           165 |              58 |              7 |                1 |          46 |            39 |           4 |       1848 | 1.0256e+07  |   9.50586 |
|     39 |  17 |  48 |             8 |           24 |              3 |           18 |              3 |        397 |            127 |           292 |             109 |              2 |                3 |          77 |            60 |          20 |       2211 | 1.17124e+07 |   9.50762 |
|     40 |  10 |  62 |             7 |           28 |             17 |            1 |              1 |        395 |             44 |           181 |              61 |              1 |                0 |          45 |            44 |          12 |       1645 | 9.7547e+06  |   9.5005  |
|     41 |  36 |  83 |             4 |           25 |             10 |           50 |             13 |       1753 |            406 |           829 |             320 |              8 |               13 |         229 |           199 |          31 |       8630 | 9.48712e+06 |   9.50231 |
|     42 |  26 |  34 |             1 |           27 |              7 |           17 |              6 |        437 |            161 |           286 |             115 |              4 |                5 |          70 |            68 |           9 |       3092 | 1.10833e+07 |   9.51191 |
|     43 |  70 |  71 |             2 |            6 |             17 |           37 |             16 |       3451 |            328 |          1191 |             429 |             37 |               11 |         327 |           324 |          34 |      14653 | 7.1193e+06  |   9.50965 |
|     44 |  51 |  73 |             3 |            9 |              9 |           29 |             33 |       2017 |            376 |          1330 |             447 |             29 |               33 |         351 |           321 |          87 |      13881 | 8.63402e+06 |   9.50278 |
|     45 |  39 |  83 |             8 |           26 |              3 |           24 |             10 |       2066 |            293 |           878 |             310 |              6 |               10 |         222 |           227 |          55 |       8034 | 7.68062e+06 |   9.50685 |
|     46 |  34 | 100 |             8 |           10 |             13 |           44 |             38 |       1705 |            469 |          1226 |             409 |             44 |                6 |         322 |           281 |          70 |      10380 | 9.20308e+06 |   9.50396 |
|     47 |  14 |  29 |             7 |           28 |             18 |            5 |              1 |        205 |             48 |           153 |              51 |              2 |                0 |          40 |            34 |           9 |       1317 | 1.00944e+07 |   9.50031 |
|     48 |  81 |  92 |             5 |           20 |             18 |           91 |             66 |       4850 |            547 |          2055 |             679 |             63 |               16 |         576 |           517 |          96 |      21127 | 6.8582e+06  |   9.50629 |
|     49 |  51 |  86 |             9 |           28 |              3 |           16 |             16 |       2356 |            601 |          1429 |             495 |             14 |               16 |         360 |           346 |          97 |      11715 | 9.02281e+06 |   9.51515 |
|     50 |  40 |  44 |             9 |           12 |             12 |           39 |             17 |        905 |            260 |           595 |             191 |             23 |                4 |         147 |           135 |          34 |       4607 | 9.6767e+06  |   9.51276 |
|     51 |  43 |  46 |             8 |           28 |             16 |           29 |              1 |       1090 |            185 |           703 |             230 |              9 |                1 |         187 |           156 |          63 |       5682 | 9.12149e+06 |   9.51127 |
|     52 |  58 |  84 |             4 |           10 |             10 |           39 |             56 |       2603 |            654 |          1615 |             562 |             39 |               25 |         457 |           346 |          95 |      15682 | 9.14961e+06 |   9.50328 |
|     53 |  84 |  93 |            10 |           21 |             16 |          163 |             55 |       4909 |            690 |          2213 |             681 |             54 |               21 |         641 |           490 |         107 |      18170 | 8.12766e+06 |   9.51469 |
|     54 |  41 |  79 |             9 |           20 |             18 |           69 |             36 |       2071 |            274 |           894 |             290 |             16 |               12 |         250 |           221 |          50 |       7984 | 8.473e+06   |   9.50226 |
|     55 |  43 |  99 |             1 |           18 |              4 |           58 |             20 |       2569 |            449 |          1239 |             458 |             33 |               20 |         318 |           322 |          54 |      14348 | 8.89082e+06 |   9.50296 |
|     56 |  56 |  65 |             1 |           11 |             15 |           28 |             19 |       1941 |            494 |          1205 |             435 |             28 |                9 |         313 |           274 |          67 |      12932 | 1.00372e+07 |   9.50845 |
|     57 |  29 |  85 |             3 |           21 |             12 |           37 |              4 |       1176 |            386 |           903 |             310 |             23 |                4 |         225 |           208 |          61 |       8669 | 1.01916e+07 |   9.50257 |
|     58 |  22 |  29 |            10 |           10 |             20 |            7 |              1 |        402 |             38 |           198 |              62 |              7 |                1 |          63 |            45 |           9 |       1810 | 9.10024e+06 |   9.50844 |
|     59 |  33 |  83 |             3 |           28 |              5 |           28 |              7 |       1689 |            218 |           832 |             287 |             18 |                7 |         226 |           208 |          48 |       8880 | 7.99178e+06 |   9.50942 |
|     60 |  62 |  69 |             8 |           24 |             17 |           68 |              0 |       2588 |            602 |          1088 |             394 |             11 |                0 |         294 |           257 |          47 |       9704 | 8.65191e+06 |   9.50347 |
|     61 |  39 |  70 |             9 |           24 |             15 |           46 |             12 |       1766 |            277 |           687 |             242 |             12 |                7 |         186 |           176 |          28 |       6149 | 8.32601e+06 |   9.51231 |
|     62 |  16 |  52 |             2 |           28 |              7 |           13 |             10 |        419 |            114 |           299 |             114 |              1 |               10 |          71 |            66 |          12 |       2954 | 1.05177e+07 |   9.51395 |
|     63 |  91 |  92 |             3 |           19 |             13 |          147 |             46 |       4228 |            960 |          3184 |            1030 |            113 |               46 |         855 |           729 |         221 |      30925 | 9.36122e+06 |   9.50575 |
|     64 |  47 |  67 |             8 |           27 |              5 |           45 |             26 |       1875 |            307 |           967 |             340 |             11 |               26 |         251 |           242 |          48 |       8653 | 8.94561e+06 |   9.50255 |
|     65 |  50 |  52 |             3 |           26 |              5 |           31 |             17 |       1748 |            169 |           683 |             248 |              7 |               17 |         177 |           194 |          34 |       8009 | 7.56758e+06 |   9.51065 |
|     66 |  28 |  44 |             6 |            9 |              4 |            4 |              7 |        713 |            160 |           359 |             137 |              4 |                7 |          91 |            85 |          16 |       3324 | 9.67685e+06 |   9.51681 |
|     67 |  44 |  69 |             8 |           17 |              8 |           49 |             32 |       1685 |            435 |           916 |             320 |             28 |               26 |         264 |           200 |          23 |       7806 | 9.47017e+06 |   9.50471 |
|     68 |  14 |  91 |             6 |            7 |             17 |           15 |              5 |        801 |            149 |           324 |             118 |             15 |                1 |          88 |            79 |           7 |       3230 | 9.3223e+06  |   9.50938 |
|     69 |  28 |  74 |             5 |           24 |             13 |           64 |              6 |        927 |            333 |           812 |             275 |             15 |                6 |         188 |           179 |          67 |       6647 | 1.18993e+07 |   9.51035 |
|     70 |  21 | 100 |             3 |           16 |             19 |           13 |             14 |       1246 |            155 |           699 |             230 |             13 |                9 |         195 |           166 |          51 |       7301 | 8.77774e+06 |   9.50157 |
|     71 |  50 |  63 |             9 |           12 |             14 |            0 |             29 |       1739 |            307 |          1104 |             363 |              0 |               23 |         285 |           257 |          95 |       8871 | 9.51183e+06 |   9.51118 |
|     72 |  17 |  64 |             7 |           30 |              5 |            8 |              2 |        660 |             67 |           361 |             123 |              3 |                2 |          86 |            93 |          26 |       3289 | 9.01441e+06 |   9.50077 |
|     73 |  51 |  77 |             1 |            5 |             18 |           74 |             11 |       2320 |            481 |          1126 |             399 |             74 |                2 |         317 |           261 |          31 |      13055 | 9.12574e+06 |   9.51198 |
|     74 |  26 |  95 |             7 |           12 |             17 |           15 |              9 |       1526 |            118 |           826 |             255 |             15 |                9 |         232 |           186 |          78 |       7322 | 8.10934e+06 |   9.50171 |
|     75 |  70 |  72 |             2 |            6 |              8 |           40 |             21 |       2402 |            768 |          1870 |             654 |             40 |               21 |         471 |           411 |         147 |      18564 | 1.046e+07   |   9.50402 |
|     76 |  51 |  96 |             9 |           16 |             16 |            8 |             26 |       3104 |            571 |          1221 |             448 |              8 |                7 |         327 |           293 |          55 |      10508 | 8.72335e+06 |   9.50379 |
|     77 |  22 |  29 |            10 |           25 |             20 |            3 |              0 |        351 |            104 |           183 |              62 |              1 |                0 |          47 |            39 |          10 |       1365 | 1.05321e+07 |   9.50052 |
|     78 |  23 |  50 |             1 |           13 |             17 |           24 |              1 |        554 |            160 |           436 |             143 |             19 |                1 |         114 |            96 |          22 |       4533 | 9.64215e+06 |   9.50081 |
|     79 |  11 |  85 |             7 |           24 |              7 |           18 |              2 |        532 |            158 |           245 |              97 |              2 |                2 |          69 |            52 |           6 |       2139 | 1.01532e+07 |   9.50065 |
|     80 |  39 |  39 |            10 |            7 |             14 |            4 |              3 |        986 |            205 |           330 |             123 |              4 |                1 |         101 |            70 |           6 |       2788 | 8.88632e+06 |   9.51126 |
|     81 |  49 |  93 |             1 |            9 |             17 |           99 |              3 |       2564 |            392 |          1601 |             515 |             99 |                3 |         451 |           369 |          84 |      17793 | 7.10527e+06 |   9.50313 |
|     82 |  46 |  69 |            10 |           20 |             13 |           84 |             22 |       1697 |            413 |          1064 |             328 |             30 |                9 |         301 |           211 |          62 |       7733 | 8.16728e+06 |   9.50221 |
|     83 |  59 |  75 |             9 |           11 |             13 |           26 |             29 |       2518 |            284 |          1623 |             489 |             26 |               28 |         445 |           345 |         152 |      12679 | 7.22906e+06 |   9.50306 |
|     84 |  37 |  76 |             9 |           13 |              3 |           59 |             30 |       1748 |            222 |           842 |             264 |             42 |               29 |         245 |           202 |          20 |       7751 | 6.79568e+06 |   9.50392 |
|     85 |  61 |  77 |             3 |           11 |             15 |           81 |             20 |       2615 |            391 |          1691 |             533 |             81 |               20 |         479 |           395 |         101 |      17630 | 8.90101e+06 |   9.51281 |
|     86 |  30 |  66 |             7 |           30 |             18 |            5 |             12 |       1283 |            116 |           581 |             203 |              5 |               10 |         130 |           171 |          44 |       5539 | 8.09041e+06 |   9.50141 |
|     87 |  73 |  87 |             5 |           21 |              6 |           36 |             30 |       4396 |            391 |          1564 |             537 |             35 |               30 |         430 |           413 |          76 |      16630 | 7.31208e+06 |   9.52477 |
|     88 |  52 |  99 |             3 |           26 |              5 |          111 |             76 |       2660 |            607 |          1881 |             649 |             17 |               76 |         521 |           423 |         120 |      19141 | 9.98308e+06 |   9.51423 |
|     89 |  28 |  47 |             8 |           21 |              3 |           28 |              1 |        843 |             94 |           379 |             121 |             14 |                1 |         117 |            84 |          18 |       3415 | 8.54618e+06 |   9.50937 |
|     90 |  17 |  48 |             6 |           27 |             10 |           11 |              7 |        484 |             41 |           291 |              94 |              3 |                7 |          80 |            73 |          18 |       2895 | 9.23489e+06 |   9.50066 |
|     91 |  77 |  97 |             8 |           30 |              7 |          184 |             65 |       4568 |            452 |          2449 |             778 |             23 |               65 |         635 |           606 |         194 |      21571 | 8.05474e+06 |   9.5145  |
|     92 |  68 |  90 |            10 |           12 |              7 |           90 |             72 |       3581 |            552 |          1987 |             597 |             90 |               62 |         578 |           443 |          79 |      16576 | 8.91748e+06 |   9.51371 |
|     93 |  33 |  71 |             4 |           25 |              3 |            3 |              7 |       1409 |            137 |           797 |             267 |              3 |                7 |         196 |           201 |          82 |       7966 | 8.62905e+06 |   9.51056 |
|     94 |  52 |  98 |            10 |           16 |             14 |          142 |             31 |       2370 |            853 |          1873 |             563 |             65 |               13 |         492 |           379 |         115 |      13208 | 1.07507e+07 |   9.50931 |
|     95 |  61 |  78 |             6 |           14 |              4 |           80 |             19 |       3012 |            535 |          1211 |             441 |             37 |               19 |         320 |           327 |          27 |      12700 | 8.60626e+06 |   9.51202 |
|     96 |  59 |  92 |             6 |           13 |             19 |            3 |             42 |       2997 |            579 |          1852 |             614 |              3 |               14 |         488 |           398 |         170 |      16011 | 9.37668e+06 |   9.50418 |
|     97 |  66 |  94 |             2 |           10 |             18 |          142 |             52 |       2988 |            876 |          2340 |             746 |            141 |                8 |         629 |           486 |         133 |      22784 | 1.0455e+07  |   9.51353 |
|     98 |  15 |  76 |             8 |           16 |              9 |           21 |              5 |        702 |            112 |           326 |             109 |             13 |                5 |         101 |            70 |          14 |       2855 | 9.59676e+06 |   9.50088 |
|     99 |  37 |  57 |             6 |           13 |             11 |            9 |              3 |       1302 |            281 |           526 |             202 |              9 |                3 |         155 |           124 |          12 |       5338 | 9.93519e+06 |   9.50119 |
|    100 |  24 |  31 |             6 |           24 |             18 |           12 |              7 |        486 |             46 |           212 |              75 |              5 |                2 |          48 |            62 |          12 |       2094 | 9.29496e+06 |   9.50051 |

</details>

<details>
<summary>順位表 a04a653cc0dd0450c8131d9524992f7d35eca585</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| CatalinT         | 975253.16  | 1     | 06.10.2018 06:27:14 EST  | C++       | 8              | 9            |
| kurenai3110      | 961645.57  | 2     | 06.10.2018 07:20:11 EST  | C++       | 2              | 2            |
| Psyho            | 955632.91  | 3     | 06.10.2018 05:59:16 EST  | C++       | 2              | 7            |
| eldidou          | 954746.84  | 4     | 06.08.2018 19:47:31 EST  | C++       | 7              | 3            |
| tourist          | 938417.72  | 5     | 06.10.2018 05:50:43 EST  | C++       | 18             | 10           |
| kosakkun         | 925632.91  | 6     | 06.10.2018 07:25:57 EST  | C++       | 19             | 11           |
| EvbCFfp1XB       | 907848.10  | 7     | 06.10.2018 07:05:54 EST  | Java      | 2              | 2            |
| sdya             | 899367.09  | 8     | 06.10.2018 01:55:15 EST  | C++       | 9              | 9            |
| atsT5515         | 879746.84  | 9     | 06.09.2018 06:10:29 EST  | C++       | 1              | 1            |
| tanzaku          | 879113.92  | 10    | 06.09.2018 23:47:23 EST  | Java      | 6              | 5            |
| gorbunov         | 876518.99  | 11    | 06.09.2018 08:38:27 EST  | C++       | 11             | 6            |
| PaulJefferys     | 865126.58  | 12    | 06.10.2018 04:07:59 EST  | C++       | 5              | 4            |
| kimiyuki         | 850822.78  | 13    | 06.10.2018 06:51:27 EST  | C++       | 8              | 9            |
| JacoCronje       | 826012.66  | 14    | 06.10.2018 02:14:43 EST  | C++       | 9              | 9            |
| fetetriste       | 812405.06  | 15    | 06.10.2018 07:12:38 EST  | Java      | 12             | 11           |
| yuya178          | 786835.44  | 16    | 06.10.2018 06:37:05 EST  | Java      | 23             | 12           |
| hoshi524         | 785759.49  | 17    | 06.10.2018 01:54:29 EST  | C++       | 3              | 3            |
| nika             | 785759.49  | 17    | 06.09.2018 08:24:57 EST  | C++       | 2              | 5            |
| chokudai         | 776518.99  | 19    | 06.10.2018 04:15:10 EST  | C++       | 8              | 8            |
| machy            | 760189.87  | 20    | 06.10.2018 06:17:57 EST  | C++       | 3              | 3            |
| H_a_s_h          | 754113.92  | 21    | 06.09.2018 06:12:48 EST  | C++       | 2              | 2            |
| RafbillFr        | 748734.18  | 22    | 06.09.2018 19:52:26 EST  | C++       | 21             | 9            |
| marek.cygan      | 741012.66  | 23    | 06.09.2018 01:22:47 EST  | C++       | 8              | 8            |
| skrzypl1         | 713670.89  | 24    | 06.08.2018 14:05:56 EST  | C#        | 3              | 3            |
| imazato          | 676708.86  | 25    | 06.10.2018 04:32:19 EST  | C++       | 5              | 5            |
| sas4eka          | 674493.67  | 26    | 06.10.2018 06:11:41 EST  | C++       | 27             | 14           |
| bduvenhage       | 673734.18  | 27    | 06.10.2018 05:21:08 EST  | C++       | 1              | 1            |
| Kriii            | 669430.38  | 28    | 06.10.2018 05:18:41 EST  | C++       | 4              | 3            |
| kyuridenamida    | 667848.10  | 29    | 06.09.2018 17:51:24 EST  | C++       | 4              | 3            |
| phyllo           | 641962.03  | 30    | 06.09.2018 15:14:55 EST  | C++       | 3              | 1            |
| mhora            | 640696.20  | 31    | 06.08.2018 23:27:00 EST  | C++       | 8              | 7            |
| andresduque      | 618860.76  | 32    | 06.10.2018 03:53:08 EST  | Java      | 2              | 2            |
| okazaki          | 601265.82  | 33    | 06.10.2018 07:27:38 EST  | Java      | 3              | 14           |
| USERHACKER       | 591645.57  | 34    | 06.10.2018 05:22:41 EST  | C++       | 2              | 8            |
| krismaz          | 575000.00  | 35    | 06.08.2018 18:39:18 EST  | C++       | 3              | 3            |
| sumoru           | 569367.09  | 36    | 06.10.2018 07:10:53 EST  | C++       | 3              | 2            |
| yowa             | 544367.09  | 37    | 06.08.2018 04:13:48 EST  | C++       | 4              | 4            |
| takeo1116        | 536898.73  | 38    | 06.10.2018 07:21:45 EST  | C++       | 7              | 5            |
| mugurelionut     | 504556.96  | 39    | 06.09.2018 06:46:46 EST  | C++       | 5              | 3            |
| iwashi31         | 493227.85  | 40    | 06.09.2018 11:17:29 EST  | C++       | 0              | 4            |
| Hohol            | 487025.32  | 41    | 06.09.2018 23:20:50 EST  | Java      | 0              | 8            |
| tashikani        | 483734.18  | 42    | 06.10.2018 05:31:29 EST  | C++       | 3              | 2            |
|  eris_c          | 477784.81  | 43    | 06.09.2018 06:07:58 EST  | C++       | 4              | 4            |
| windhunterSB     | 434620.25  | 44    | 06.09.2018 05:53:50 EST  | C++       | 10             | 7            |
| kishore_g84      | 429113.92  | 45    | 06.10.2018 06:07:19 EST  | Java      | 1              | 1            |
| suikkee          | 429113.92  | 45    | 06.10.2018 04:00:56 EST  | Java      | 2              | 2            |
| kt_tenel         | 428291.14  | 47    | 06.10.2018 04:21:05 EST  | C++       | 22             | 5            |
| spagiarri        | 394936.71  | 48    | 06.09.2018 06:07:39 EST  | C++       | 7              | 7            |
| y_kawano         | 393037.97  | 49    | 06.10.2018 05:40:02 EST  | C++       | 3              | 3            |
| southpolenator   | 371645.57  | 50    | 06.10.2018 05:28:00 EST  | C#        | 5              | 2            |
| ktuan            | 359493.67  | 51    | 06.10.2018 01:03:12 EST  | C++       | 5              | 5            |
| NobuMiu          | 350000.00  | 52    | 06.09.2018 02:24:23 EST  | C++       | 3              | 2            |
| Daiver19         | 341645.57  | 53    | 06.09.2018 18:17:45 EST  | C++       | 4              | 1            |
| fmhr             | 340949.37  | 54    | 06.10.2018 04:09:46 EST  | C++       | 1              | 1            |
| colun            | 303417.72  | 55    | 06.10.2018 06:14:20 EST  | C++       | 1              | 1            |
| Risenn           | 286265.82  | 56    | 06.10.2018 04:57:52 EST  | C#        | 1              | 2            |
| daisyo           | 278734.18  | 57    | 06.09.2018 06:59:45 EST  | C++       | 2              | 2            |
| danbanica        | 274810.13  | 58    | 06.09.2018 08:58:22 EST  | C++       | 2              | 2            |
| gardn999         | 256962.03  | 59    | 06.09.2018 19:52:37 EST  | Java      | 1              | 1            |
| my316g           | 251392.41  | 60    | 06.09.2018 03:19:37 EST  | C++       | 2              | 2            |
| NoChance         | 238860.76  | 61    | 06.09.2018 16:40:49 EST  | C++       | 1              | 1            |
| senya0126        | 238860.76  | 61    | 06.07.2018 23:24:30 EST  | C++       | 2              | 3            |
| kotamanegi       | 231645.57  | 63    | 06.09.2018 07:46:55 EST  | C++       | 2              | 2            |
| gurualo          | 226518.99  | 64    | 06.09.2018 10:50:12 EST  | C++       | 2              | 2            |
| YerzhanU         | 203227.85  | 65    | 06.09.2018 15:44:23 EST  | C++       | 5              | 3            |
| luvtechno        | 202025.32  | 66    | 06.09.2018 02:35:02 EST  | Java      | 4              | 4            |
| mcw1142          | 177025.32  | 67    | 06.09.2018 18:50:10 EST  | Java      | 1              | 1            |
| m_dz             | 165569.62  | 68    | 06.10.2018 05:50:55 EST  | C++       | 2              | 3            |
| AAAAAnt          | 159620.25  | 69    | 06.09.2018 15:01:19 EST  | Java      | 1              | 3            |
| Balajiganapathi  | 151329.11  | 70    | 06.09.2018 08:30:27 EST  | C++       | 6              | 3            |
| TheConfessor     | 117468.35  | 71    | 06.09.2018 18:24:13 EST  | C++       | 4              | 2            |
| PikokoLoko       | 99620.25   | 72    | 06.08.2018 11:44:00 EST  | Java      | 1              | 1            |
| robjermy         | 98481.01   | 73    | 06.08.2018 15:01:05 EST  | C++       | 1              | 1            |
| moshu            | 72911.39   | 74    | 06.08.2018 13:02:05 EST  | C++       | 2              | 2            |
| ceni1055         | 48101.27   | 75    | 06.07.2018 11:21:52 EST  | C++       | 1              | 1            |
| id               | 2911.39    | 76    | 06.07.2018 12:53:16 EST  | C#        | 1              | 1            |
| kphmd            | 2911.39    | 76    | 06.07.2018 09:18:29 EST  | C++       | 1              | 1            |
| PnumaSON         | 2911.39    | 76    | 06.07.2018 09:21:03 EST  | C++       | 0              | 1            |
| gchebanov        | 2151.90    | 79    | 06.08.2018 15:15:20 EST  | C++       | 0              | 1            |
| jml04            | 0.00       | 80    | 06.08.2018 05:58:01 EST  | Java      | 1              | 1            |
| keymoon          | -          | -     | -                        | -         | 1              | 0            |
| myam             | -          | -     | -                        | -         | 1              | 0            |
| yuuki            | -          | -     | -                        | -         | 1              | 0            |

</details>
